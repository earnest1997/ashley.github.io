<!DOCTYPE html>
<html>
<head><link rel=manifest href=/ashley271017.github.io/manifest.json><meta name="generator" content="Hexo 3.9.0"><link rel="manifest" href="/ashley271017.github.io/manifest.json">
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  
  <title>é¢ç»jsç¯‡ | Ashley&#39;s blog</title>
  
  

  

  <meta name="HandheldFriendly" content="True">
  <meta name="apple-mobile-web-app-capable" content="yes">
  <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
  <!-- meta -->
  

  <!-- link -->
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/gh/fancyapps/fancybox@3.5.7/dist/jquery.fancybox.min.css">
  
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/node-waves@0.7.6/dist/waves.min.css">
  
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free@5.10.1/css/all.min.css">
  

  
  <link rel="manifest" href="/manifest.json">
  
    <link rel="stylesheet" href="/ashley271017.github.io/style.css">
  

  <script>
    function setLoadingBarProgress(num) {
      document.getElementById('loading-bar').style.width=num+"%";
    }
  </script>

  
  
</head>

<body>
  
  
  <div class="cover-wrapper">
    <cover class='cover post half'>
      
        
  <h1 class='title'>Ashley's blog</h1>


  <div class="m_search">
    <form name="searchform" class="form u-search-form">
      <input type="text" class="input u-search-input" placeholder="" />
      <i class="icon fas fa-search fa-fw"></i>
    </form>
  </div>

<div class='menu navgation'>
  <ul class='h-list'>
    
      
        <li>
          <a class="nav home" href="/ashley271017.github.io/"
            
            
            id="ashley271017.github.io">
            <i class='fas fa-rss fa-fw'></i>&nbsp;åšæ–‡
          </a>
        </li>
      
        <li>
          <a class="nav home" href="/ashley271017.github.io/collect/"
            
              rel="nofollow"
            
            
            id="ashley271017.github.iocollect">
            <i class='fas fa-link fa-fw'></i>&nbsp;æ”¶è—
          </a>
        </li>
      
        <li>
          <a class="nav home" href="/ashley271017.github.io/about/"
            
              rel="nofollow"
            
            
            id="ashley271017.github.ioabout">
            <i class='fas fa-info-circle fa-fw'></i>&nbsp;å…³äº
          </a>
        </li>
      
    
  </ul>
</div>

      
    </cover>
    <header class="l_header pure">
  <div id="loading-bar-wrapper">
    <div id="loading-bar" class="pure"></div>
  </div>

	<div class='wrapper'>
		<div class="nav-main container container--flex">
      <a class="logo flat-box" href='/ashley271017.github.io/' >
        
          Ashley's blog
        
      </a>
			<div class='menu navgation'>
				<ul class='h-list'>
          
  					
  						<li>
								<a class="nav flat-box" href="/ashley271017.github.io/"
                  
                  
                  id="ashley271017.github.io">
									<i class='fas fa-grin fa-fw'></i>&nbsp;ç¤ºä¾‹
								</a>
							</li>
      			
  						<li>
								<a class="nav flat-box" href="/ashley271017.github.io/blog/category/"
                  
                    rel="nofollow"
                  
                  
                  id="ashley271017.github.ioblogcategory">
									<i class='fas fa-folder-open fa-fw'></i>&nbsp;åˆ†ç±»
								</a>
							</li>
      			
  						<li>
								<a class="nav flat-box" href="/ashley271017.github.io/blog/tags/"
                  
                    rel="nofollow"
                  
                  
                  id="ashley271017.github.ioblogtags">
									<i class='fas fa-hashtag fa-fw'></i>&nbsp;æ ‡ç­¾
								</a>
							</li>
      			
      		
				</ul>
			</div>

			
				<div class="m_search">
					<form name="searchform" class="form u-search-form">
						<input type="text" class="input u-search-input" placeholder="Search" />
						<i class="icon fas fa-search fa-fw"></i>
					</form>
				</div>
			
			<ul class='switcher h-list'>
				
					<li class='s-search'><a class="fas fa-search fa-fw" href='javascript:void(0)'></a></li>
				
				<li class='s-menu'><a class="fas fa-bars fa-fw" href='javascript:void(0)'></a></li>
			</ul>
		</div>

		<div class='nav-sub container container--flex'>
			<a class="logo flat-box"></a>
			<ul class='switcher h-list'>
				<li class='s-comment'><a class="flat-btn fas fa-comments fa-fw" href='javascript:void(0)'></a></li>
        
          <li class='s-toc'><a class="flat-btn fas fa-list fa-fw" href='javascript:void(0)'></a></li>
        
			</ul>
		</div>
	</div>
</header>
	<aside class="menu-phone">
    <header>
		<nav class="menu navgation">
      <ul>
        
          
            <li>
							<a class="nav flat-box" href="/ashley271017.github.io/"
                
                
                id="ashley271017.github.io">
								<i class='fas fa-clock fa-fw'></i>&nbsp;è¿‘æœŸæ–‡ç« 
							</a>
            </li>
          
            <li>
							<a class="nav flat-box" href="/ashley271017.github.io/friends/"
                
                  rel="nofollow"
                
                
                id="ashley271017.github.iofriends">
								<i class='fas fa-link fa-fw'></i>&nbsp;æˆ‘çš„å‹é“¾
							</a>
            </li>
          
       
      </ul>
		</nav>
    </header>
	</aside>
<script>setLoadingBarProgress(40);</script>

  </div>


  <div class="l_body">
    <div class='body-wrapper'>
      <div class='l_main'>
  

  
    <article id="post" class="post white-box article-type-post" itemscope itemprop="blogPost">
      


  <section class='meta'>
    
    <div class="meta" id="header-meta">
      
        
  
    <h1 class="title">
      <a href="/ashley271017.github.io/2019/12/10/é¢ç»jsç¯‡/">
        é¢ç»jsç¯‡
      </a>
    </h1>
  


      
      <div class='new-meta-box'>
        
          
        
          
            
  <div class='new-meta-item author'>
    <a href="https://ashleyblog.xyz" rel="nofollow">
      
        <i class="fas fa-user" aria-hidden="true"></i>
      
      <p>Ashley</p>
    </a>
  </div>


          
        
          
            <div class="new-meta-item date">
  <a class='notlink'>
    <i class="fas fa-calendar-alt" aria-hidden="true"></i>
    <p>2019-12-10</p>
  </a>
</div>

          
        
          
            
  
  <div class='new-meta-item category'>
    <a href='/ashley271017.github.io/categories/é¢ç»/js/' rel="nofollow">
      <i class="fas fa-folder-open" aria-hidden="true"></i>
      <p>é¢ç»&nbsp;/&nbsp;js</p>
    </a>
  </div>


          
        
          
            
  
    <div class="new-meta-item browse busuanzi">
      <a class='notlink'>
        <i class="fas fa-eye" aria-hidden="true"></i>
        <p>
          <span id="busuanzi_value_page_pv">
            <i class="fas fa-spinner fa-spin fa-fw" aria-hidden="true"></i>
          </span>
        </p>
      </a>
    </div>
  


          
        
          
            

          
        
      </div>
      
        <a title='é¢ç»jsç¯‡' href='/ashley271017.github.io/2019/12/10/é¢ç»jsç¯‡/'><img class='thumbnail' src='/images/post/30.jpg'></a>
      
      
        <hr>
      
    </div>
  </section>


      <section class="article typo">
        <div class="article-entry" itemprop="articleBody">
          <h2 id="åŸç”Ÿ-js"><a href="#åŸç”Ÿ-js" class="headerlink" title="åŸç”Ÿ js"></a>åŸç”Ÿ js</h2><h3 id="typeofçš„åŸç†"><a href="#typeofçš„åŸç†" class="headerlink" title="typeofçš„åŸç†"></a><code>typeof</code>çš„åŸç†</h3><p>js åœ¨åº•å±‚å­˜å‚¨å˜é‡çš„æ—¶å€™ï¼Œä¼šåœ¨å˜é‡çš„æœºå™¨ç çš„ä½ä½ 1-3 ä½å­˜å‚¨å…¶ç±»å‹ä¿¡æ¯ ğŸ‘‰</p>
<blockquote>
<p>000ï¼šå¯¹è±¡<br>010ï¼šæµ®ç‚¹æ•°<br>100ï¼šå­—ç¬¦ä¸²<br>110ï¼šå¸ƒå°”<br>1ï¼šæ•´æ•°</p>
</blockquote>
<p>but, å¯¹äº undefined å’Œ null æ¥è¯´ï¼Œè¿™ä¸¤ä¸ªå€¼çš„ä¿¡æ¯å­˜å‚¨æ˜¯æœ‰ç‚¹ç‰¹æ®Šçš„ã€‚<br>nullï¼šæ‰€æœ‰æœºå™¨ç å‡ä¸º 0<br>undefinedï¼šç”¨ âˆ’2^30 æ•´æ•°æ¥è¡¨ç¤º<br>æ‰€ä»¥ï¼Œtypeof åœ¨åˆ¤æ–­ null çš„æ—¶å€™å°±å‡ºç°é—®é¢˜äº†ï¼Œç”±äº null çš„æ‰€æœ‰æœºå™¨ç å‡ä¸º 0ï¼Œå› æ­¤ç›´æ¥è¢«å½“åšäº†å¯¹è±¡æ¥çœ‹å¾…ã€‚</p>
<h3 id="instanceofçš„åŸç†"><a href="#instanceofçš„åŸç†" class="headerlink" title="instanceofçš„åŸç†"></a><code>instanceof</code>çš„åŸç†</h3><p>é€šè¿‡åˆ¤æ–­å³è¾¹çš„å˜é‡çš„<code>prototype</code>æ˜¯å¦åœ¨å·¦è¾¹çš„å˜é‡çš„åŸå‹é“¾ä¸Š</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">myInstanceOf</span>(<span class="params">leftVal, rightVal</span>) </span>&#123;</span><br><span class="line">  <span class="keyword">let</span> rightProto = rightVal.prototype</span><br><span class="line">  <span class="keyword">let</span> leftCopy = leftVal.__proto__</span><br><span class="line">  <span class="keyword">while</span> (<span class="literal">true</span>) &#123;</span><br><span class="line">    <span class="keyword">if</span> (leftCopy === <span class="literal">null</span>) &#123;</span><br><span class="line">      <span class="keyword">return</span> <span class="literal">false</span></span><br><span class="line">    &#125; <span class="keyword">else</span> <span class="keyword">if</span> (leftCopy === rightProto) &#123;</span><br><span class="line">      <span class="keyword">return</span> <span class="literal">true</span></span><br><span class="line">    &#125;</span><br><span class="line">    leftCopy = leftCopy.__proto__</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h3 id="ç”ŸæˆæŒ‡å®šèŒƒå›´å†…çš„éšæœºæ•°"><a href="#ç”ŸæˆæŒ‡å®šèŒƒå›´å†…çš„éšæœºæ•°" class="headerlink" title="ç”ŸæˆæŒ‡å®šèŒƒå›´å†…çš„éšæœºæ•°"></a>ç”ŸæˆæŒ‡å®šèŒƒå›´å†…çš„éšæœºæ•°</h3><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">RandomNum</span> (<span class="params">min, max</span>) </span>&#123;</span><br><span class="line">  <span class="keyword">let</span> range = max - min</span><br><span class="line">  <span class="keyword">return</span> <span class="built_in">Math</span>.round(<span class="built_in">Math</span>.random()*range) + min</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h3 id="null-undefined-çš„åŒºåˆ«"><a href="#null-undefined-çš„åŒºåˆ«" class="headerlink" title="null undefined çš„åŒºåˆ«"></a>null undefined çš„åŒºåˆ«</h3><p>å‰è€…æ˜¯ä¸€ä¸ªç‰¹æ®Šçš„å¯¹è±¡ ä¸ä¼šè¢«åƒåœ¾å›æ”¶æœºåˆ¶å›æ”¶ å‰è€…è½¬æ¢æˆæ•°å­—æ˜¯ 0 åè€…æ˜¯ NaN</p>
<h3 id="å‡½æ•°å‚æ•°æ˜¯æŒ‰å€¼ä¼ é€’-ä¸ºä»€ä¹ˆä¼ ä¸€ä¸ªå¯¹è±¡è¿›å»-å‡½æ•°å†…éƒ¨çš„ä¿®æ”¹ä¼šå½±å“è¯¥å¯¹è±¡"><a href="#å‡½æ•°å‚æ•°æ˜¯æŒ‰å€¼ä¼ é€’-ä¸ºä»€ä¹ˆä¼ ä¸€ä¸ªå¯¹è±¡è¿›å»-å‡½æ•°å†…éƒ¨çš„ä¿®æ”¹ä¼šå½±å“è¯¥å¯¹è±¡" class="headerlink" title="å‡½æ•°å‚æ•°æ˜¯æŒ‰å€¼ä¼ é€’ ä¸ºä»€ä¹ˆä¼ ä¸€ä¸ªå¯¹è±¡è¿›å» å‡½æ•°å†…éƒ¨çš„ä¿®æ”¹ä¼šå½±å“è¯¥å¯¹è±¡"></a>å‡½æ•°å‚æ•°æ˜¯æŒ‰å€¼ä¼ é€’ ä¸ºä»€ä¹ˆä¼ ä¸€ä¸ªå¯¹è±¡è¿›å» å‡½æ•°å†…éƒ¨çš„ä¿®æ”¹ä¼šå½±å“è¯¥å¯¹è±¡</h3><p>ä¼ çš„æ˜¯æ˜¯æ ˆå†…æ•°æ®çš„æ‹·è´<br>ç®€å•æ•°æ®ç±»å‹ä¼ çš„æ˜¯ å€¼æœ¬èº« ï¼ˆå› ä¸ºç›´æ¥æŠŠå€¼å­˜åœ¨æ ˆå†…ï¼‰<br>å¤æ‚æ•°æ®ç±»å‹ä¼ çš„æ˜¯ å¯¹è±¡åœ¨å†…å­˜é‡Œé¢çš„åœ°å€ ï¼ˆå› ä¸ºå¤æ‚å¯¹è±¡å­˜åœ¨å †å†…ï¼Œæ‰€ä»¥åœ¨æ ˆé‡Œå­˜å¯¹è±¡æ‰€åœ¨çš„å †åœ°å€ï¼‰</p>
<h3 id="ä½ è§‰å¾—jQueryæˆ–zeptoæºç æœ‰å“ªäº›å†™çš„å¥½çš„åœ°æ–¹"><a href="#ä½ è§‰å¾—jQueryæˆ–zeptoæºç æœ‰å“ªäº›å†™çš„å¥½çš„åœ°æ–¹" class="headerlink" title="ä½ è§‰å¾—jQueryæˆ–zeptoæºç æœ‰å“ªäº›å†™çš„å¥½çš„åœ°æ–¹"></a>ä½ è§‰å¾—jQueryæˆ–zeptoæºç æœ‰å“ªäº›å†™çš„å¥½çš„åœ°æ–¹</h3><p>jqueryæºç å°è£…åœ¨ä¸€ä¸ªåŒ¿åå‡½æ•°çš„è‡ªæ‰§è¡Œç¯å¢ƒä¸­ï¼Œæœ‰åŠ©äºé˜²æ­¢å˜é‡çš„å…¨å±€æ±¡æŸ“ï¼Œç„¶åé€šè¿‡ä¼ å…¥windowå¯¹è±¡å‚æ•°ï¼Œå¯ä»¥ä½¿windowå¯¹è±¡ä½œä¸ºå±€éƒ¨å˜é‡ä½¿ç”¨ï¼Œå¥½å¤„æ˜¯å½“jqueryä¸­è®¿é—®windowå¯¹è±¡çš„æ—¶å€™ï¼Œå°±ä¸ç”¨å°†ä½œç”¨åŸŸé“¾é€€å›åˆ°é¡¶å±‚ä½œç”¨åŸŸäº†ï¼Œä»è€Œå¯ä»¥æ›´å¿«çš„è®¿é—®windowå¯¹è±¡ã€‚åŒæ ·ï¼Œä¼ å…¥undefinedå‚æ•°ï¼Œå¯ä»¥ç¼©çŸ­æŸ¥æ‰¾undefinedæ—¶çš„ä½œç”¨åŸŸé“¾ã€‚</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line">(<span class="function"><span class="keyword">function</span>(<span class="params"> window, undefined </span>) </span>&#123;</span><br><span class="line"></span><br><span class="line">     <span class="comment">//ç”¨ä¸€ä¸ªå‡½æ•°åŸŸåŒ…èµ·æ¥ï¼Œå°±æ˜¯æ‰€è°“çš„æ²™ç®±</span></span><br><span class="line"></span><br><span class="line">     <span class="comment">//åœ¨è¿™é‡Œè¾¹varå®šä¹‰çš„å˜é‡ï¼Œå±äºè¿™ä¸ªå‡½æ•°åŸŸå†…çš„å±€éƒ¨å˜é‡ï¼Œé¿å…æ±¡æŸ“å…¨å±€</span></span><br><span class="line"></span><br><span class="line">     <span class="comment">//æŠŠå½“å‰æ²™ç®±éœ€è¦çš„å¤–éƒ¨å˜é‡é€šè¿‡å‡½æ•°å‚æ•°å¼•å…¥è¿›æ¥</span></span><br><span class="line"></span><br><span class="line">     <span class="comment">//åªè¦ä¿è¯å‚æ•°å¯¹å†…æä¾›çš„æ¥å£çš„ä¸€è‡´æ€§ï¼Œä½ è¿˜å¯ä»¥éšæ„æ›¿æ¢ä¼ è¿›æ¥çš„è¿™ä¸ªå‚æ•°</span></span><br><span class="line"></span><br><span class="line">    <span class="built_in">window</span>.jQuery = <span class="built_in">window</span>.$ = jQuery;</span><br><span class="line"></span><br><span class="line">&#125;)( <span class="built_in">window</span> );</span><br></pre></td></tr></table></figure>

<h3 id="è™šæ‹Ÿdom"><a href="#è™šæ‹Ÿdom" class="headerlink" title="è™šæ‹Ÿdom"></a>è™šæ‹Ÿdom</h3><ul>
<li><p>ä¸ºä»€ä¹ˆç›´æ¥æ“ä½œdomè€—æ—¶<br>v8 bindingä¼šå°†åŸç”Ÿçš„domå¯¹è±¡ï¼ˆæ¯”å¦‚document.a)æ˜ å°„æˆåŒ…è£…çš„jså¯¹è±¡ï¼Œæ‰€ä»¥æ‰§è¡Œ<code>document.a=ã€‚ã€‚ã€‚</code>å¾ˆå¿«<br>ä½†æ˜¯<code>document.title=ã€‚ã€‚ã€‚</code>å¾ˆæ…¢æ˜¯å› ä¸ºä¿®æ”¹titleçš„æ—¶å€™åŒæ—¶ä¹Ÿä¿®æ”¹äº† DOM å¯¹è±¡çš„ attributes<br>æ­¤å¤–å¾ˆå¤šæ—¶å€™æ“ä½œdoméƒ½ä¼šå¼•èµ·é‡ç»˜ä¸å›æµ å¹¶ä¸”å¾ˆå¤šdom apiçš„è¯»å†™éƒ½ä¼šè®¾è®¡é¡µé¢å¸ƒå±€çš„é‡æ–°è®¡ç®—ä»¥ç¡®ä¿è¿”å›å€¼çš„å‡†ç¡®</p>
</li>
<li><p>è™šæ‹Ÿdomä¸å¿« ä¸ºä»€ä¹ˆreactå¿«</p>
<blockquote>
<p>React is fast because it only manipulates the DOM as much as it needs to,Updating changes is much faster than re-building the entire DOM tree from scratch. Itâ€™s able to do this because it keeps the virtual DOM representation from the last time we updated or rendered our component in memory. It then compares the two versions and updates the changes.</p>
</blockquote>
</li>
</ul>
<blockquote>
<p>React Virtual DOM is an object,<br>when we create an webpage browser create dom in a tree manner. to find the changes in two different trees &gt;time complexity is O(n^3) but REACT DIFF algorithm can able to do it in O(n) time by using keys of each node.that is why react is faster</p>
</blockquote>
<ul>
<li>ä¸ºä»€ä¹ˆè™šæ‹Ÿdomæ€§èƒ½æ›´å¥½<blockquote>
<p>ä¼ ç»ŸMVCæ¡†æ¶,å¦‚backbone,å®ƒæ˜¯å°†æŸä¸ªæ¨¡æ¿ç¼–è¯‘æˆæ¨¡æ¿å‡½æ•°,éœ€è¦æ›´æ–°æ—¶,æ˜¯è‡ªå·±æ‰‹åŠ¨å°†æ•°æ®æ•´ä½“ä¼ å…¥æ¨¡æ¿å‡½æ•°, å¾—åˆ°ä¸€ä¸ªå­—ç¬¦ä¸²,ä½¿ç”¨innerHTMLåˆ·æ–°æŸä¸ªå®¹å™¨!æ³¨æ„,è¿™é‡Œå…¶å®å¯ä»¥ä¼˜åŒ–,ä½†ç”±äºæ˜¯æ‰‹åŠ¨,æ˜¯ä½“åŠ›æ´»,éƒ½æ˜¯ä½¿ç”¨å¾ˆç²—æ”¾å‹çš„innerhTMLäº†äº‹ (ä½¿ç”¨jQueryçš„htmlæ–¹æ³•æ€§èƒ½ä¼šæ›´å·®,ä¸è¿‡å¥½å¤„æ˜¯å®ƒå¤„ç†äº†IEä¸‹çš„innerHTML BUGåŠå…¨å¹³å°çš„æ— æ³•æ‰§è¡Œå†…éƒ¨çš„scriptæ ‡ç­¾çš„BUG) ç”±äºæ•´ä½“æ›¿æ¢,ä¸€ä¸‹å­é”€æ¯è¿™ä¹ˆå¤šå…ƒç´ (æœ‰æ—¶è¿˜ç»‘ç€äº‹ä»¶,å¯èƒ½å¯¼è‡´GCå‡ºé—®é¢˜),åˆè¦æ’å…¥è¿™ä¹ˆå¤šå…ƒç´ ,å†é‡æ–°ç»‘å®šäº‹ä»¶(è¿™ä¸ªå¯ä»¥ä½¿ç”¨äº‹ä»¶ä»£ç†ç¼“è§£) å› æ­¤æ€§èƒ½éå¸¸å·®</p>
</blockquote>
</li>
</ul>
<blockquote>
<p>knockouté‚£æ ·, ä½¿ç”¨æ—¶è®©ç”¨æˆ·ç—›è‹¦ä¸€äº›,ä½¿ç”¨å¯åŒæ­¥è§†å›¾çš„ä¸œè¥¿ç”¨å‡½æ•°(wrapper)åŒ…è£¹èµ·æ¥, åˆ·æ–°è§†å›¾,å°±åªéœ€è¦é‡æ–°è°ƒç”¨è¿™ä¸ªwrapper.ç°åœ¨æ‰€æœ‰æ–°çš„MVVMéƒ½æ˜¯ä»koé‚£é‡Œå­¦åˆ°ä¾èµ–æ”¶é›†. è¿™ä¸ªwraperä¼šé€šçŸ¥å…¶ä¾èµ–çš„wrapper,é€šè¿‡æå…¶ç—›è‹¦æ™¦æ¶©çš„æ–¹å¼è¿›å…¥äº‹ä»¶æ€»çº¿, æ‰§è¡Œè§†å›¾åˆ·æ–°å‡½æ•°. knockoutæ˜¯ä½¿ç”¨é—­åŒ…ç”¨åˆ°æè‡´çš„åº“,æ˜¾ç„¶è¿™æ ·åšæ€§èƒ½ä¹Ÿå¾ˆå·®.</p>
</blockquote>
<blockquote>
<p>æœ€åreact, é¦–å…ˆä½¿ç”¨ç¼–è¯‘æ‰‹æ®µ(jsxçš„è™šæ‹ŸDOMè½¬æ¢), å°†è¿™éƒ¨åˆ†æ¶ˆè€—èƒ½æå‰é‡Šæ”¾å‡ºå», ä¸è¿‡å°†å­—ç¬¦ä¸²(jsxæ¨¡æ¿)è½¬æ¢ä¸ºä¸€ä¸ªä¸ªJSå¯¹è±¡,ä¹Ÿå ä¸äº†å¤šå°‘å†…å­˜. ç„¶åæ˜¯æ•°æ®å‘ç”Ÿå˜åŠ¨æ—¶, ç”±äºæ•°æ®å˜åŠ¨éƒ½æ˜¯éœ€è¦ç”¨setStateæ–¹æ³•,å› æ­¤å…¼å®¹æ€§å¾ˆå¥½, å°‘äº†Object.definePropertyæˆ–wrapperçš„æ¶ˆè€—,ç„¶åå¯¹åº”æ•°æ®é€šè¿‡renderè½¬æ¢æˆå­—ç¬¦ä¸²,å­—ç¬¦ä¸²å†è½¬æ¢è™šæ‹ŸDOMæ ‘ å…ˆåè™šæ‹ŸDOMè¿›è¡Œæ¯”è¾ƒ, æ›´æ–°è§†å›¾.</p>
</blockquote>
<blockquote>
<p>reactæ˜¯é¢å‘ç»„ä»¶è®¾è®¡, ä¸€ä¸ªç»„ä»¶å°±æ˜¯ä¸€ä¸ªå¯†å°èˆ±, å¾ˆå°‘ä¼šå¯¹æ‰€æœ‰è™šæ‹ŸDOMè¿›è¡Œæ¯”è¾ƒ, ç”±äºå¼ºåˆ¶ä½¿ç”¨å•å‘æµåŠ¨, å‡å°‘æ¯æ¬¡å˜åŠ¨éœ€è¦çš„diff. æ²¡æœ‰ç»‘å®šå¯¹è±¡ä¸wrapperçš„å†…å­˜å ç”¨é«˜çš„é—®é¢˜.</p>
</blockquote>
<h3 id="å®ç°å‡½æ•°æŸ¯é‡ŒåŒ–"><a href="#å®ç°å‡½æ•°æŸ¯é‡ŒåŒ–" class="headerlink" title="å®ç°å‡½æ•°æŸ¯é‡ŒåŒ–"></a>å®ç°å‡½æ•°æŸ¯é‡ŒåŒ–</h3><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">curry</span>(<span class="params">f</span>) </span>&#123;</span><br><span class="line">  <span class="keyword">const</span> context = <span class="keyword">this</span></span><br><span class="line">  <span class="keyword">let</span> args = []</span><br><span class="line">  <span class="keyword">return</span> <span class="function"><span class="keyword">function</span>(<span class="params">...arg</span>) </span>&#123;</span><br><span class="line">    args = args.concat(arg)</span><br><span class="line">    <span class="keyword">if</span> (arg.length) &#123;</span><br><span class="line">      <span class="keyword">return</span> <span class="built_in">arguments</span>.callee</span><br><span class="line">    &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">      <span class="keyword">return</span> f.apply(context, arg)</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h3 id="arguments-callee-ä¸arguments-callerçš„åŒºåˆ«"><a href="#arguments-callee-ä¸arguments-callerçš„åŒºåˆ«" class="headerlink" title="arguments.callee ä¸arguments.callerçš„åŒºåˆ«"></a><code>arguments.callee</code> ä¸<code>arguments.caller</code>çš„åŒºåˆ«</h3><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">f</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">  <span class="comment">// arguments.callee : [Function:f]</span></span><br><span class="line">  <span class="comment">//  arguments.caller : [Function:g]</span></span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">g</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">  f()</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h3 id="ç±»æ•°ç»„å¯¹è±¡æœ‰å“ªäº›"><a href="#ç±»æ•°ç»„å¯¹è±¡æœ‰å“ªäº›" class="headerlink" title="ç±»æ•°ç»„å¯¹è±¡æœ‰å“ªäº›"></a>ç±»æ•°ç»„å¯¹è±¡æœ‰å“ªäº›</h3><p>å…·æœ‰lengthå±æ€§çš„å¹¶ä¸”èƒ½ä½¿ç”¨ç´¢å¼•è®¿é—®çš„ æ¯”å¦‚arguments domç›¸å…³çš„æ•°æ®ç»“æ„ localstorage sesstionstorage..</p>
<h3 id="å‡½æ•°æå‡è·Ÿå˜é‡æå‡"><a href="#å‡½æ•°æå‡è·Ÿå˜é‡æå‡" class="headerlink" title="å‡½æ•°æå‡è·Ÿå˜é‡æå‡"></a>å‡½æ•°æå‡è·Ÿå˜é‡æå‡</h3><p>å‡½æ•°å£°æ˜çš„ä¼˜å…ˆçº§æœ€é«˜ï¼Œä¼šè¢«æå‡è‡³å½“å‰ä½œç”¨åŸŸæœ€é¡¶ç«¯</p>
<h3 id="å®ç°æ·±æ‹·è´"><a href="#å®ç°æ·±æ‹·è´" class="headerlink" title="å®ç°æ·±æ‹·è´"></a>å®ç°æ·±æ‹·è´</h3><h3 id="å¾ªç¯é€’å½’å®ç°"><a href="#å¾ªç¯é€’å½’å®ç°" class="headerlink" title="å¾ªç¯é€’å½’å®ç°"></a>å¾ªç¯é€’å½’å®ç°</h3><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> a = &#123;</span><br><span class="line">  name: <span class="string">'mary'</span>,</span><br><span class="line">  age: <span class="number">20</span>,</span><br><span class="line">  friend: &#123;</span><br><span class="line">    name: <span class="string">'å“ˆå“ˆ'</span>,</span><br><span class="line">    age: <span class="number">19</span>,</span><br><span class="line">    hobby: <span class="string">'eat'</span></span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">deep</span>(<span class="params">obj</span>) </span>&#123;</span><br><span class="line">  <span class="keyword">var</span> newobj = &#123;&#125;</span><br><span class="line">  <span class="keyword">for</span> (<span class="keyword">var</span> key <span class="keyword">in</span> obj) &#123;</span><br><span class="line">    <span class="comment">// æ­¤å¤„éå†çš„keyåŒ…æ‹¬äº†å®ä¾‹å¯¹è±¡å’Œå®ƒåŸå‹çš„å±æ€§ï¼Œæ‰€ä»¥è¦ç”¨hasOwnPropertyè¿›è¡Œç­›é€‰(nodeç¯å¢ƒä¸ä¼šï¼Œæµè§ˆå™¨ç¯å¢ƒä¼šåˆ—ä¸¾åŸå‹å±æ€§)</span></span><br><span class="line">    <span class="keyword">if</span> (obj.hasOwnProperty(key)) &#123;</span><br><span class="line">      <span class="comment">// å¦‚æœæ˜¯åŸºæœ¬ç±»å‹åˆ™è¿›è¡Œå¤åˆ¶</span></span><br><span class="line">      <span class="keyword">if</span> (</span><br><span class="line">        <span class="keyword">typeof</span> obj[key] === <span class="string">'number'</span> ||</span><br><span class="line">        <span class="keyword">typeof</span> obj[key] === <span class="string">'string'</span> ||</span><br><span class="line">        <span class="keyword">typeof</span> obj[key] === <span class="string">'boolean'</span> ||</span><br><span class="line">        obj[key] === <span class="literal">undefined</span> ||</span><br><span class="line">        obj[key] === <span class="literal">null</span></span><br><span class="line">      ) &#123;</span><br><span class="line">        newobj[key] = obj[key]</span><br><span class="line">        <span class="comment">// å¦‚æœä¸æ˜¯åˆ™ä¸ºarrayæˆ–è€…object,ä»ç„¶éœ€è¦æ·±å±‚æ¬¡çš„é€’å½’å¤åˆ¶</span></span><br><span class="line">      &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">        newobj[key] = deep(obj[key])</span><br><span class="line">      &#125;</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="keyword">return</span> newobj</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h3 id="load-äº‹ä»¶ä¸-DOMContentLoaded-äº‹ä»¶-document-ready"><a href="#load-äº‹ä»¶ä¸-DOMContentLoaded-äº‹ä»¶-document-ready" class="headerlink" title="load äº‹ä»¶ä¸ DOMContentLoaded äº‹ä»¶,$(document).ready()"></a>load äº‹ä»¶ä¸ DOMContentLoaded äº‹ä»¶,$(document).ready()</h3><ul>
<li>å½“ DOMContentLoaded äº‹ä»¶è§¦å‘æ—¶ï¼Œä»…å½“ DOM åŠ è½½å®Œæˆï¼Œä¸åŒ…æ‹¬æ ·å¼è¡¨ï¼Œå›¾ç‰‡ã€‚</li>
<li>å½“ onload äº‹ä»¶è§¦å‘æ—¶ï¼Œé¡µé¢ä¸Šæ‰€æœ‰çš„ DOMï¼Œæ ·å¼è¡¨ï¼Œè„šæœ¬ï¼Œå›¾ç‰‡éƒ½å·²ç»åŠ è½½å®Œæˆäº†ã€‚</li>
<li>$(document).ready()æ˜¯DOMç»“æ„ç»˜åˆ¶å®Œæ¯•åå°±æ‰§è¡Œï¼Œä¸å¿…ç­‰åˆ°åŠ è½½å®Œæ¯•</li>
<li>window.onloadä¸èƒ½åŒæ—¶ç¼–å†™å¤šä¸ªï¼Œå¦‚æœæœ‰å¤šä¸ªwindow.onloadæ–¹æ³•ï¼Œåªä¼šæ‰§è¡Œä¸€ä¸ªï¼Œ$(document).ready()å¯ä»¥åŒæ—¶ç¼–å†™å¤šä¸ªï¼Œå¹¶ä¸”éƒ½å¯ä»¥å¾—åˆ°æ‰§è¡Œ,$(document).ready(function(){})å¯ä»¥ç®€å†™æˆ$(function(){})</li>
</ul>
<h3 id="æ„é€ å‡½æ•°çš„è¿”å›å€¼"><a href="#æ„é€ å‡½æ•°çš„è¿”å›å€¼" class="headerlink" title="æ„é€ å‡½æ•°çš„è¿”å›å€¼"></a>æ„é€ å‡½æ•°çš„è¿”å›å€¼</h3><blockquote>
<p>æ„é€ å‡½æ•°ä¸éœ€è¦æ˜¾ç¤ºçš„è¿”å›å€¼ã€‚ä½¿ç”¨ new æ¥åˆ›å»ºå¯¹è±¡(è°ƒç”¨æ„é€ å‡½æ•°)æ—¶ï¼Œå¦‚æœ return çš„æ˜¯éå¯¹è±¡(æ•°å­—ã€å­—ç¬¦ä¸²ã€å¸ƒå°”ç±»å‹ç­‰)ä¼šå¿½è€Œç•¥è¿”å›å€¼;å¦‚æœ return çš„æ˜¯å¯¹è±¡ï¼Œåˆ™è¿”å›è¯¥å¯¹è±¡(æ³¨ï¼šè‹¥ return null ä¹Ÿä¼šå¿½ç•¥è¿”å›å€¼ï¼‰ã€‚</p>
</blockquote>
<h3 id="å¤§æ•°æ±‚å’Œ"><a href="#å¤§æ•°æ±‚å’Œ" class="headerlink" title="å¤§æ•°æ±‚å’Œ"></a>å¤§æ•°æ±‚å’Œ</h3><p>é‡‡ç”¨å°æ—¶ä¾¯å­¦åŠ æ³•æ—¶çš„æ‰‹åŠ¨è®¡ç®—çš„æ–¹æ³•ï¼Œä»æœ€ä½ä½ä¾æ¬¡ç›¸åŠ ï¼Œå¾—åˆ°æœ€åçš„ç»“æœ<br>å› ä¸ºå¯¹äºè¾ƒå¤§çš„æ•°jsä¼šè‡ªåŠ¨é‡‡ç”¨ç§‘å­¦è®°æ•°æ³•çš„æ–¹å¼è¡¨ç¤ºï¼Œæ‰€ä»¥å‚ä¸è®¡ç®—çš„å‚æ•°ç”¨å­—ç¬¦ä¸²è¡¨ç¤º</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">getSum</span>(<span class="params">d1, d2</span>) </span>&#123;</span><br><span class="line">    <span class="comment">// å¦‚æœç¬¬ä¸€ä¸ªæ•°è¾ƒå¤§åˆ™äº¤æ¢ä¸¤ä¸ªæ•°</span></span><br><span class="line">    <span class="keyword">if</span> (d1.length &lt; d2.length) &#123;</span><br><span class="line">        [d1, d2] = [d2, d1];</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="comment">// å°†ä¸¤ä¸ªæ•°è½¬ä¸ºæ•°ç»„å½¢å¼</span></span><br><span class="line">    <span class="keyword">let</span> [arr1, arr2] = [[...d1].reverse(), [...d2].reverse()];</span><br><span class="line">    <span class="comment">// numç”¨ä½œå½“å¯¹åº”ä½æ•°ç›¸åŠ å¤§äº10æ—¶åšè¿›ä½</span></span><br><span class="line">    <span class="keyword">let</span> num = <span class="number">0</span>;</span><br><span class="line">    <span class="comment">// å¾ªç¯arr1.lengthæ¬¡æ±‚å’Œ</span></span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">let</span> i = <span class="number">0</span>; i &lt; arr1.length; i++) &#123;</span><br><span class="line">        <span class="keyword">if</span> (arr2[i]) &#123;</span><br><span class="line">            arr1[i] = <span class="built_in">Number</span>.parseInt(arr1[i]) + <span class="built_in">Number</span>.parseInt(arr2[i]) + num;</span><br><span class="line">        &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">            arr1[i] = <span class="built_in">Number</span>.parseInt(arr1[i]) + num;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">if</span> (arr1[i] &gt;= <span class="number">10</span>) &#123;</span><br><span class="line">            [arr1[i], num] = [arr1[i] % <span class="number">10</span>, <span class="number">1</span>];</span><br><span class="line">        &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">            num = <span class="number">0</span>;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="comment">// å¦‚æœæœ€åè¿›ä½ä¸º1ï¼Œåˆ™ç»“æœå‰åº”åŠ 1ä¸º</span></span><br><span class="line">    <span class="keyword">if</span> (num === <span class="number">1</span>) &#123;</span><br><span class="line">        arr1[arr1.length] = num;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="comment">// è¿”å›ç»“æœå­—ç¬¦ä¸²</span></span><br><span class="line">    <span class="keyword">return</span> arr1.reverse().join(<span class="string">''</span>);</span><br><span class="line">&#125;</span><br><span class="line">args=args.concat(arg)</span><br><span class="line"><span class="string">``</span><span class="string">` </span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string">### generatorå‡½æ•°çš„ä½¿ç”¨åœºæ™¯</span></span><br><span class="line"><span class="string">* å¤šæ–‡ä»¶ä¸Šä¼  ä¸Šä¼ å®Œç¬¬ä¸€ç»„æ–‡ä»¶ä¹‹åæš‚åœæ‰§è¡Œ åšå…¶ä»–çš„äº‹æƒ… ä¹‹åå†ç»§ç»­ä¸Šä¼  é€šè¿‡è¿”å›å€¼doneå±æ€§æ˜¯å¦ä¸ºçœŸæ¥åˆ¤æ–­èƒ½å¦ç»§ç»­æ‰§è¡Œ</span></span><br><span class="line"><span class="string">* ç”Ÿæˆå…·æœ‰indexçš„enumerateç»“æ„ (è¿”å›çš„æ˜¯iteratorå¯¹è±¡ èƒ½ç›´æ¥ä½¿ç”¨for inéå†ï¼Œä¹Ÿèƒ½ä½œä¸ºArray.fromç­‰çš„å‚æ•°)</span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string">### æ·±åº¦æ¯”è¾ƒä¸¤ä¸ªå¯¹è±¡</span></span><br><span class="line"><span class="string">1.é€šè¿‡json.parse(json.stringify)... ç›¸ç­‰ç›´æ¥è¿”å›true</span></span><br><span class="line"><span class="string">2.object.keys.lengthä¸ç›¸ç­‰ è¿”å›false</span></span><br><span class="line"><span class="string">3.éå† é‡åˆ°ä¸ºå¯¹è±¡çš„å±æ€§é€’å½’</span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string">### å®ç° bind</span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string">`</span><span class="string">``</span>js</span><br><span class="line"><span class="comment">// å®šä¹‰è¿™ä¸ªæ–¹æ³•ä¸ºmyBind</span></span><br><span class="line"><span class="built_in">Function</span>.prototype.my_bind = <span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">  <span class="keyword">var</span> self = <span class="keyword">this</span>, <span class="comment">// ä¿å­˜åŸå‡½æ•°</span></span><br><span class="line">    context = <span class="built_in">Array</span>.prototype.shift.call(<span class="built_in">arguments</span>), <span class="comment">// ä¿å­˜éœ€è¦ç»‘å®šçš„thisä¸Šä¸‹æ–‡</span></span><br><span class="line">    <span class="comment">// ä¸Šä¸€è¡Œç­‰ä»·äº context = [].shift.call(arguments);</span></span><br><span class="line">    args = <span class="built_in">Array</span>.prototype.slice.call(<span class="built_in">arguments</span>) <span class="comment">// å‰©ä½™çš„å‚æ•°è½¬ä¸ºæ•°ç»„</span></span><br><span class="line">  <span class="keyword">return</span> <span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">    <span class="comment">// è¿”å›ä¸€ä¸ªæ–°å‡½æ•°</span></span><br><span class="line">    self.apply(</span><br><span class="line">      context,</span><br><span class="line">      <span class="built_in">Array</span>.prototype.concat.call(args, <span class="built_in">Array</span>.prototype.slice.call(<span class="built_in">arguments</span>))</span><br><span class="line">    )</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h3 id="promiseçš„æ„é€ å‡½æ•°è·Ÿä»–çš„thenæ–¹æ³•æ˜¯å¼‚æ­¥è¿˜æ˜¯åŒæ­¥"><a href="#promiseçš„æ„é€ å‡½æ•°è·Ÿä»–çš„thenæ–¹æ³•æ˜¯å¼‚æ­¥è¿˜æ˜¯åŒæ­¥" class="headerlink" title="promiseçš„æ„é€ å‡½æ•°è·Ÿä»–çš„thenæ–¹æ³•æ˜¯å¼‚æ­¥è¿˜æ˜¯åŒæ­¥"></a>promiseçš„æ„é€ å‡½æ•°è·Ÿä»–çš„thenæ–¹æ³•æ˜¯å¼‚æ­¥è¿˜æ˜¯åŒæ­¥</h3><p>promiseæ„é€ å‡½æ•°æ˜¯åŒæ­¥æ‰§è¡Œçš„ï¼Œthenæ–¹æ³•å› ä¸ºæ˜¯å¾®ä»»åŠ¡æ˜¯å¼‚æ­¥æ‰§è¡Œçš„</p>
<h3 id="æ¨¡å—åŒ–"><a href="#æ¨¡å—åŒ–" class="headerlink" title="æ¨¡å—åŒ–"></a>æ¨¡å—åŒ–</h3><ul>
<li>ä¸ºä»€ä¹ˆè¦æ¨¡å—åŒ–<br>ä¸ºäº†é¿å…å…¨å±€æ±¡æŸ“</li>
<li>æ€ç»´å¯¼å›¾<br><a href="https://www.processon.com/view/link/5c8409bbe4b02b2ce492286a#map" target="_blank" rel="noopener">https://www.processon.com/view/link/5c8409bbe4b02b2ce492286a#map</a></li>
</ul>
<h3 id="jsç±»å‹è½¬æ¢"><a href="#jsç±»å‹è½¬æ¢" class="headerlink" title="jsç±»å‹è½¬æ¢"></a>jsç±»å‹è½¬æ¢</h3><ul>
<li><p>å¼ºåˆ¶ç±»å‹è½¬æ¢<br>é€šè¿‡ Number()ã€parseInt()ã€parseFloat()ã€toString()ã€String()ã€Boolean(),è¿›è¡Œå¼ºåˆ¶ç±»å‹è½¬æ¢ã€‚</p>
</li>
<li><p>éšå¼ç±»å‹è½¬æ¢<br>é€»è¾‘è¿ç®—ç¬¦(&amp;&amp;ã€ ||ã€ !)ã€è¿ç®—ç¬¦(+ã€-ã€*ã€/)ã€å…³ç³»æ“ä½œç¬¦(&gt;ã€ &lt;ã€ &lt;= ã€&gt;=)ã€ç›¸ç­‰è¿ç®—ç¬¦(==)æˆ–è€… if/while çš„æ¡ä»¶ï¼Œå¯èƒ½ä¼šè¿›è¡Œéšå¼ç±»å‹è½¬æ¢ã€‚<br>å…³äºvalueof tostring<br>åœ¨æ•°å€¼è¿ç®—é‡Œï¼Œä¼šä¼˜å…ˆè°ƒç”¨valueOf() å­—ç¬¦ä¸²è¿ç®—ä¼˜å…ˆè°ƒç”¨åè€…</p>
</li>
</ul>
<h3 id="å®ç°æ•°ç»„æ‰å¹³åŒ–"><a href="#å®ç°æ•°ç»„æ‰å¹³åŒ–" class="headerlink" title="å®ç°æ•°ç»„æ‰å¹³åŒ–"></a>å®ç°æ•°ç»„æ‰å¹³åŒ–</h3><ul>
<li>æ–¹å¼ä¸€</li>
</ul>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">;[].concat.apply([], [[<span class="number">1</span>], [<span class="number">2</span>], [<span class="number">3</span>]]) <span class="comment">// [1, 2, 3]</span></span><br></pre></td></tr></table></figure>

<ul>
<li><p>chrome 69 åæ•°ç»„è‡ªå¸¦ flat æ–¹æ³•</p>
</li>
<li><p>æ–¹å¼äºŒ</p>
</li>
</ul>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">flatten</span>(<span class="params">arr</span>) </span>&#123;</span><br><span class="line">  <span class="keyword">return</span> arr.reduce(<span class="function"><span class="keyword">function</span>(<span class="params">prev, item</span>) </span>&#123;</span><br><span class="line">    <span class="keyword">return</span> prev.concat(<span class="built_in">Array</span>.isArray(item) ? flatten(item) : item)</span><br><span class="line">  &#125;, [])</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<ul>
<li>æ–¹å¼ä¸‰</li>
</ul>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">flatten</span>(<span class="params">arr</span>)</span>&#123;</span><br><span class="line">    <span class="keyword">while</span>(arr.some(<span class="function"><span class="params">item</span>=&gt;</span><span class="built_in">Array</span>.isArray(item))&#123;</span><br><span class="line">        arr = [].concat(...arr);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> arr;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h3 id="å®ç°-1-2-mutiple-1-2-1-4"><a href="#å®ç°-1-2-mutiple-1-2-1-4" class="headerlink" title="å®ç°[1,2].mutiple() = [1,2,1,4]"></a>å®ç°<code>[1,2].mutiple() = [1,2,1,4]</code></h3><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">Array</span>.prototype.mutiple = <span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">  <span class="keyword">const</span> tail = <span class="keyword">this</span>.map(<span class="function">(<span class="params">item</span>) =&gt;</span> item ** <span class="number">2</span>)</span><br><span class="line">  <span class="keyword">return</span> [...this, ...tail]</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h3 id="å®ç°composeå‡½æ•°"><a href="#å®ç°composeå‡½æ•°" class="headerlink" title="å®ç°composeå‡½æ•°"></a>å®ç°composeå‡½æ•°</h3><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">export</span> <span class="keyword">default</span> <span class="function"><span class="keyword">function</span> <span class="title">compose</span>(<span class="params">...funcs</span>) </span>&#123;</span><br><span class="line">  <span class="keyword">if</span> (funcs.length === <span class="number">0</span>) &#123;</span><br><span class="line">    <span class="keyword">return</span> <span class="function"><span class="params">arg</span> =&gt;</span> arg</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  <span class="keyword">if</span> (funcs.length === <span class="number">1</span>) &#123;</span><br><span class="line">    <span class="keyword">return</span> funcs[<span class="number">0</span>]</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  <span class="keyword">const</span> last = funcs[funcs.length - <span class="number">1</span>]</span><br><span class="line">  <span class="keyword">const</span> rest = funcs.slice(<span class="number">0</span>, <span class="number">-1</span>)</span><br><span class="line">  <span class="comment">// reduceright:å°†æ•°ç»„ä¸­æ¯ä¸€é¡¹ä»å³å‘å·¦è°ƒç”¨callback</span></span><br><span class="line">  <span class="keyword">return</span> <span class="function">(<span class="params">...args</span>) =&gt;</span> rest.reduceRight(<span class="function">(<span class="params">composed, f</span>) =&gt;</span> f(composed), last(...args))</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h3 id="var-a3-name-â€œå‰ç«¯å¼€å‘â€-var-b3-a3-a3-null-console-log-b3"><a href="#var-a3-name-â€œå‰ç«¯å¼€å‘â€-var-b3-a3-a3-null-console-log-b3" class="headerlink" title="var a3 = {name: â€œå‰ç«¯å¼€å‘â€}; var b3 = a3; a3 = null console.log(b3)?"></a>var a3 = {name: â€œå‰ç«¯å¼€å‘â€}; var b3 = a3; a3 = null console.log(b3)?</h3><p>// {name: â€œå‰ç«¯å¼€å‘â€}</p>
<h3 id="äº‹ä»¶å§”æ‰˜çš„ä¼˜ç¼ºç‚¹"><a href="#äº‹ä»¶å§”æ‰˜çš„ä¼˜ç¼ºç‚¹" class="headerlink" title="äº‹ä»¶å§”æ‰˜çš„ä¼˜ç¼ºç‚¹"></a>äº‹ä»¶å§”æ‰˜çš„ä¼˜ç¼ºç‚¹</h3><ul>
<li>ä¼˜ç‚¹<br>å‡å°‘äº‹ä»¶æ³¨å†Œ å‡å°å†…å­˜</li>
<li>ç¼ºç‚¹<br>æœ‰çš„äº‹ä»¶ä¸æ”¯æŒå†’æ³¡</li>
</ul>
<h3 id="0-1-0-2-0-3"><a href="#0-1-0-2-0-3" class="headerlink" title="0.1+0.2!=0.3"></a>0.1+0.2!=0.3</h3><p>åè¿›åˆ¶çš„ 0.1 å’Œ 0.2 éƒ½ä¼šè¢«è½¬æ¢æˆäºŒè¿›åˆ¶ï¼Œä½†ç”±äºæµ®ç‚¹æ•°ç”¨äºŒè¿›åˆ¶è¡¨è¾¾æ—¶æ˜¯æ— ç©·çš„ï¼Œä¾‹å¦‚ã€‚<br>JavaScript ä»£ç :<br>0.1 -&gt; 0.0001100110011001â€¦(æ— é™)<br>0.2 -&gt; 0.0011001100110011â€¦(æ— é™)<br>IEEE 754 æ ‡å‡†çš„ 64 ä½åŒç²¾åº¦æµ®ç‚¹æ•°çš„å°æ•°éƒ¨åˆ†æœ€å¤šæ”¯æŒ 53 ä½äºŒè¿›åˆ¶ä½ï¼Œæ‰€ä»¥ä¸¤è€…ç›¸åŠ ä¹‹åå¾—åˆ°äºŒè¿›åˆ¶ä¸ºï¼š<br>JavaScript ä»£ç :<br>0.0100110011001100110011001100110011001100110011001100<br>å› æµ®ç‚¹æ•°å°æ•°ä½çš„é™åˆ¶è€Œæˆªæ–­çš„äºŒè¿›åˆ¶æ•°å­—ï¼Œå†è½¬æ¢ä¸ºåè¿›åˆ¶ï¼Œå°±æˆäº† 0.30000000000000004ã€‚æ‰€ä»¥åœ¨è¿›è¡Œç®—æœ¯è®¡ç®—æ—¶ä¼šäº§ç”Ÿè¯¯å·®</p>
<h3 id="æ€ä¹ˆè®¾ç½®å¯¹è±¡çš„å±æ€§ä¸èƒ½è¢«åˆ é™¤ï¼Ÿ"><a href="#æ€ä¹ˆè®¾ç½®å¯¹è±¡çš„å±æ€§ä¸èƒ½è¢«åˆ é™¤ï¼Ÿ" class="headerlink" title="æ€ä¹ˆè®¾ç½®å¯¹è±¡çš„å±æ€§ä¸èƒ½è¢«åˆ é™¤ï¼Ÿ"></a>æ€ä¹ˆè®¾ç½®å¯¹è±¡çš„å±æ€§ä¸èƒ½è¢«åˆ é™¤ï¼Ÿ</h3><p><code>definePropperty</code>è®¾ç½®<code>configurable</code> false<br>why? <a href="https://developer.mozilla.org/zh-CN/docs/Web/JavaScript/Reference/Operators/delete" target="_blank" rel="noopener">https://developer.mozilla.org/zh-CN/docs/Web/JavaScript/Reference/Operators/delete</a></p>
<h3 id="addeventListenerçš„ç¬¬ä¸‰ä¸ªå‚æ•°"><a href="#addeventListenerçš„ç¬¬ä¸‰ä¸ªå‚æ•°" class="headerlink" title="addeventListenerçš„ç¬¬ä¸‰ä¸ªå‚æ•°"></a>addeventListenerçš„ç¬¬ä¸‰ä¸ªå‚æ•°</h3><p>æ˜¯ä¸€ä¸ªå¯¹è±¡option,åŒ…æ‹¬<code>capture, passive,once</code>é€‰é¡¹ ä¸æ”¯æŒè¿™ç§å†™æ³•çš„é»˜è®¤ç¬¬ä¸‰ä¸ªå‚æ•°æ˜¯<code>usecapture</code></p>
<h3 id="å‡ ç§åˆ¤æ–­æ•°ç»„ç±»å‹çš„ä¼˜ç¼ºç‚¹"><a href="#å‡ ç§åˆ¤æ–­æ•°ç»„ç±»å‹çš„ä¼˜ç¼ºç‚¹" class="headerlink" title="å‡ ç§åˆ¤æ–­æ•°ç»„ç±»å‹çš„ä¼˜ç¼ºç‚¹"></a>å‡ ç§åˆ¤æ–­æ•°ç»„ç±»å‹çš„ä¼˜ç¼ºç‚¹</h3><p>instanceofä¸èƒ½æ£€æµ‹æ¥è‡ªiframeçš„æ•°ç»„ã€‚å°±æ˜¯window.frames[xx].Arrayæ„é€ å‡ºæ¥çš„æ•°ç»„<br>Array.isArrayå…¼å®¹æ€§æ²¡é‚£ä¹ˆå¥½</p>
<h3 id="ä¸ºä»€ä¹ˆè¡¨å•èƒ½è·¨åŸŸ"><a href="#ä¸ºä»€ä¹ˆè¡¨å•èƒ½è·¨åŸŸ" class="headerlink" title="ä¸ºä»€ä¹ˆè¡¨å•èƒ½è·¨åŸŸ"></a>ä¸ºä»€ä¹ˆè¡¨å•èƒ½è·¨åŸŸ</h3><p>å› ä¸ºè¡¨å•çš„è¯·æ±‚ä¸€èˆ¬éƒ½æ˜¯æäº¤æ•°æ® å¹¶ä¸”ä¼ ç»Ÿformè¡¨å•æäº¤æµè§ˆå™¨ä¼šå‘ç”Ÿè·³è½¬ å¹¶ä¸”ä¸éœ€è¦è¿”å›å“åº”æ•°æ® æ˜¯å®‰å…¨çš„</p>
<h3 id="ä¸ºä»€ä¹ˆç®­å¤´å‡½æ•°ä¸èƒ½ä½¿ç”¨newæ“ä½œç¬¦"><a href="#ä¸ºä»€ä¹ˆç®­å¤´å‡½æ•°ä¸èƒ½ä½¿ç”¨newæ“ä½œç¬¦" class="headerlink" title="ä¸ºä»€ä¹ˆç®­å¤´å‡½æ•°ä¸èƒ½ä½¿ç”¨newæ“ä½œç¬¦"></a>ä¸ºä»€ä¹ˆç®­å¤´å‡½æ•°ä¸èƒ½ä½¿ç”¨<code>new</code>æ“ä½œç¬¦</h3><p>å› ä¸ºå®ƒæ²¡æœ‰è‡ªå·±çš„thisä¸prototype å±æ€§ ï¼Œè€Œ new å‘½ä»¤åœ¨æ‰§è¡Œæ—¶éœ€è¦å°†æ„é€ å‡½æ•°çš„ prototype èµ‹å€¼ç»™æ–°çš„å¯¹è±¡çš„ <strong>proto</strong></p>
<h2 id="react-ç›¸å…³"><a href="#react-ç›¸å…³" class="headerlink" title="react ç›¸å…³"></a>react ç›¸å…³</h2><h3 id="React-ä¸­-setState-ä»€ä¹ˆæ—¶å€™æ˜¯åŒæ­¥çš„ï¼Œä»€ä¹ˆæ—¶å€™æ˜¯å¼‚æ­¥çš„"><a href="#React-ä¸­-setState-ä»€ä¹ˆæ—¶å€™æ˜¯åŒæ­¥çš„ï¼Œä»€ä¹ˆæ—¶å€™æ˜¯å¼‚æ­¥çš„" class="headerlink" title="React ä¸­ setState ä»€ä¹ˆæ—¶å€™æ˜¯åŒæ­¥çš„ï¼Œä»€ä¹ˆæ—¶å€™æ˜¯å¼‚æ­¥çš„"></a>React ä¸­ setState ä»€ä¹ˆæ—¶å€™æ˜¯åŒæ­¥çš„ï¼Œä»€ä¹ˆæ—¶å€™æ˜¯å¼‚æ­¥çš„</h3><p>åœ¨ React ä¸­ï¼Œå¦‚æœæ˜¯ç”± React å¼•å‘çš„äº‹ä»¶å¤„ç†ä¹Ÿå°±æ˜¯åˆæˆäº‹ä»¶ï¼ˆæ¯”å¦‚é€šè¿‡ onClick å¼•å‘çš„äº‹ä»¶å¤„ç†ï¼‰ï¼Œè°ƒç”¨ setState ä¸ä¼šåŒæ­¥æ›´æ–° this.stateï¼Œé™¤æ­¤ä¹‹å¤–çš„ setState è°ƒç”¨ä¼šåŒæ­¥æ‰§è¡Œ this.stateã€‚æ‰€è°“â€œé™¤æ­¤ä¹‹å¤–â€ï¼ŒæŒ‡çš„æ˜¯ç»•è¿‡ React é€šè¿‡ addEventListener ç›´æ¥æ·»åŠ çš„äº‹ä»¶å¤„ç†å‡½æ•°ä¹Ÿå°±æ˜¯åŸç”Ÿäº‹ä»¶ï¼Œè¿˜æœ‰é€šè¿‡ setTimeout/setInterval äº§ç”Ÿçš„å¼‚æ­¥è°ƒç”¨ã€‚</p>
<p><strong>åŸå› ï¼š</strong>åœ¨ React çš„ setState å‡½æ•°å®ç°ä¸­ï¼Œä¼šæ ¹æ®ä¸€ä¸ªå˜é‡ isBatchingUpdates åˆ¤æ–­æ˜¯ç›´æ¥æ›´æ–° this.state è¿˜æ˜¯æ”¾åˆ°é˜Ÿåˆ—ä¸­å›å¤´å†è¯´ï¼Œè€Œ isBatchingUpdates é»˜è®¤æ˜¯ falseï¼Œä¹Ÿå°±è¡¨ç¤º setState ä¼šåŒæ­¥æ›´æ–° this.stateï¼Œä½†æ˜¯ï¼Œæœ‰ä¸€ä¸ªå‡½æ•° batchedUpdatesï¼Œè¿™ä¸ªå‡½æ•°ä¼šæŠŠ isBatchingUpdates ä¿®æ”¹ä¸º trueï¼Œè€Œå½“ React åœ¨è°ƒç”¨äº‹ä»¶å¤„ç†å‡½æ•°ä¹‹å‰å°±ä¼šè°ƒç”¨è¿™ä¸ª batchedUpdatesï¼Œé€ æˆçš„åæœï¼Œå°±æ˜¯ç”± React æ§åˆ¶çš„äº‹ä»¶å¤„ç†è¿‡ç¨‹ setState ä¸ä¼šåŒæ­¥æ›´æ–° this.stateã€‚</p>
<h3 id="jsx-è¯­æ³•ä¸ºä»€ä¹ˆ-éœ€è¦-import-react-åŒ…"><a href="#jsx-è¯­æ³•ä¸ºä»€ä¹ˆ-éœ€è¦-import-react-åŒ…" class="headerlink" title="jsx è¯­æ³•ä¸ºä»€ä¹ˆ éœ€è¦ import react åŒ…"></a>jsx è¯­æ³•ä¸ºä»€ä¹ˆ éœ€è¦ import react åŒ…</h3><p>JSX è¯­æ³•åªæ˜¯ä¸€ç§è¯­æ³•ç³–ï¼Œ<code>babel</code>è½¬è¯‘ä¹‹åå°±ä¼šå˜æˆ<code>React.createElement</code></p>
<h3 id="react-ç”Ÿå‘½å‘¨æœŸå˜æ›´çš„åŸå› "><a href="#react-ç”Ÿå‘½å‘¨æœŸå˜æ›´çš„åŸå› " class="headerlink" title="react ç”Ÿå‘½å‘¨æœŸå˜æ›´çš„åŸå› "></a>react ç”Ÿå‘½å‘¨æœŸå˜æ›´çš„åŸå› </h3><p>åœ¨ fiber ä¸­ï¼Œæ›´æ–°æ˜¯åˆ†é˜¶æ®µçš„ï¼Œå…·ä½“åˆ†ä¸ºä¸¤ä¸ªé˜¶æ®µï¼Œé¦–å…ˆæ˜¯ reconciliation çš„é˜¶æ®µï¼Œè¿™ä¸ªé˜¶æ®µåœ¨è®¡ç®—å‰å dom æ ‘çš„å·®å¼‚ï¼Œç„¶åæ˜¯ commit çš„é˜¶æ®µï¼Œè¿™ä¸ªé˜¶æ®µå°†æŠŠæ›´æ–°æ¸²æŸ“åˆ°é¡µé¢ä¸Šã€‚ç¬¬ä¸€ä¸ªé˜¶æ®µæ˜¯å¯ä»¥æ‰“æ–­çš„ï¼Œå› ä¸ºè¿™ä¸ªé˜¶æ®µè€—æ—¶å¯èƒ½ä¼šå¾ˆé•¿ï¼Œå› æ­¤éœ€è¦æš‚åœä¸‹æ¥å»æ‰§è¡Œå…¶ä»–æ›´é«˜ä¼˜å…ˆçº§çš„ä»»åŠ¡ï¼Œç¬¬äºŒä¸ªé˜¶æ®µåˆ™ä¸ä¼šè¢«æ‰“æ–­ï¼Œä¼šä¸€å£æ°”æŠŠæ›´æ–°æ¸²æŸ“åˆ°é¡µé¢ä¸Šã€‚</p>
<p>ç”±äº <code>reconciliation</code> çš„é˜¶æ®µä¼šè¢«æ‰“æ–­ï¼Œå¯èƒ½ä¼šå¯¼è‡´ <code>commit</code> å‰çš„è¿™äº›ç”Ÿå‘½å‘¨æœŸå‡½æ•°å¤šæ¬¡æ‰§è¡Œã€‚react å®˜æ–¹ç›®å‰å·²ç»æŠŠ <code>componentWillMount</code>ã€<code>componentWillReceiveProps</code> å’Œ <code>componetWillUpdate</code> æ ‡è®°ä¸º unsafeï¼Œå¹¶ä½¿ç”¨æ–°çš„ç”Ÿå‘½å‘¨æœŸå‡½æ•° <code>getDerivedStateFromProps</code> å’Œ <code>getSnapshotBeforeUpdate</code> è¿›è¡Œæ›¿æ¢ã€‚</p>
<p>ç»„ä»¶çš„æ¸²æŸ“è¢«åˆ†ä¸ºä¸¤ä¸ªé˜¶æ®µï¼šç¬¬ä¸€ä¸ªé˜¶æ®µï¼ˆä¹Ÿå«åš render é˜¶æ®µï¼‰æ˜¯å¯ä»¥è¢« React æ‰“æ–­çš„ï¼Œä¸€æ—¦è¢«æ‰“æ–­ï¼Œè¿™é˜¶æ®µæ‰€åšçš„æ‰€æœ‰äº‹æƒ…éƒ½è¢«åºŸå¼ƒï¼Œå½“ React å¤„ç†å®Œç´§æ€¥çš„äº‹æƒ…å›æ¥ï¼Œä¾ç„¶ä¼šé‡æ–°æ¸²æŸ“è¿™ä¸ªç»„ä»¶ï¼Œè¿™æ—¶å€™ç¬¬ä¸€é˜¶æ®µçš„å·¥ä½œä¼šé‡åšä¸€éï¼›ç¬¬äºŒä¸ªé˜¶æ®µå«åš commit é˜¶æ®µï¼Œä¸€æ—¦å¼€å§‹å°±ä¸èƒ½ä¸­æ–­ï¼Œä¹Ÿå°±æ˜¯è¯´ç¬¬äºŒä¸ªé˜¶æ®µçš„å·¥ä½œä¼šç¨³ç¨³å½“å½“åœ°åšåˆ°è¿™ä¸ªç»„ä»¶çš„æ¸²æŸ“ç»“æŸã€‚</p>
<p>ä¸¤ä¸ªé˜¶æ®µçš„åˆ†ç•Œç‚¹ï¼Œå°±æ˜¯  render  å‡½æ•°ã€‚render å‡½æ•°ä¹‹å‰çš„æ‰€æœ‰ç”Ÿå‘½å‘¨æœŸå‡½æ•°ï¼ˆåŒ…æ‹¬ render)éƒ½å±äºç¬¬ä¸€é˜¶æ®µï¼Œä¹‹åçš„éƒ½å±äºç¬¬äºŒé˜¶æ®µã€‚<br>render ä¹‹å‰çš„ç”Ÿå‘½å‘¨æœŸå‡½æ•°ï¼ˆä¹Ÿå°±æ˜¯ç¬¬ä¸€é˜¶æ®µç”Ÿå‘½å‘¨æœŸå‡½æ•°ï¼‰åŒ…æ‹¬è¿™äº›ï¼š</p>
<blockquote>
<p>componentWillReceiveProps<br>shouldComponentUpdate<br>componentWillUpdate<br>componentWillMount<br>render</p>
</blockquote>
<p>getDerivedStateFromProps åº”è¯¥æ˜¯ä¸€ä¸ªçº¯å‡½æ•°ï¼ŒReact å°±æ˜¯é€šè¿‡è¦æ±‚è¿™ç§çº¯å‡½æ•°ï¼Œå¼ºåˆ¶å¼€å‘è€…ä»¬å¿…é¡»é€‚åº”å¼‚æ­¥æ¸²æŸ“ã€‚</p>
<h4 id="reconciliation-é˜¶æ®µ"><a href="#reconciliation-é˜¶æ®µ" class="headerlink" title="reconciliation é˜¶æ®µ"></a>reconciliation é˜¶æ®µ</h4><p>è™šæ‹Ÿ dom çš„æ•°æ®å¯¹æ¯”</p>
<h4 id="commit-é˜¶æ®µ"><a href="#commit-é˜¶æ®µ" class="headerlink" title="commit é˜¶æ®µ"></a>commit é˜¶æ®µ</h4><p>å°† change list æ›´æ–°åˆ° dom ä¸Š ä¸é€‚åˆæ‹†åˆ†æ˜¯å› ä¸ºä½¿ç”¨ vdom çš„æ„ä¹‰å°±æ˜¯ä¸ºäº†èŠ‚çœè€—æ—¶çš„ dom æ“ä½œ</p>
<h3 id="ç”Ÿå‘½å‘¨æœŸ"><a href="#ç”Ÿå‘½å‘¨æœŸ" class="headerlink" title="ç”Ÿå‘½å‘¨æœŸ"></a>ç”Ÿå‘½å‘¨æœŸ</h3><p>React16.3 å¼€å¯å¼‚æ­¥æ¸²æŸ“</p>
<h4 id="æ–°å¢çš„ä¸¤ä¸ª"><a href="#æ–°å¢çš„ä¸¤ä¸ª" class="headerlink" title="æ–°å¢çš„ä¸¤ä¸ª"></a>æ–°å¢çš„ä¸¤ä¸ª</h4><ul>
<li><p>getDerivedStateFromProps<br>è§¦å‘æ—¶é—´(v16.4 ä¿®æ­£)ï¼šç»„ä»¶æ¯æ¬¡è¢« render çš„æ—¶å€™ï¼ŒåŒ…æ‹¬åœ¨ç»„ä»¶æ„å»ºä¹‹å(è™šæ‹Ÿ dom ä¹‹åï¼Œå®é™… dom æŒ‚è½½ä¹‹å‰)ï¼Œæ¯æ¬¡è·å–æ–°çš„ props æˆ– state ä¹‹åã€‚åœ¨ v16.3 ç‰ˆæœ¬æ—¶ï¼Œç»„ä»¶ state çš„æ›´æ–°ä¸ä¼šè§¦å‘è¯¥ç”Ÿå‘½å‘¨æœŸã€‚<br>æ¯æ¬¡æ¥æ”¶æ–°çš„ props ä¹‹åéƒ½ä¼šè¿”å›ä¸€ä¸ªå¯¹è±¡ä½œä¸ºæ–°çš„ stateï¼Œè¿”å› null åˆ™è¯´æ˜ä¸éœ€è¦æ›´æ–° state.<br>é…åˆ componentDidUpdateï¼Œå¯ä»¥è¦†ç›– componentWillReceiveProps çš„æ‰€æœ‰ç”¨æ³•<br>getDerivedStateFromProps æ˜¯ä¸€ä¸ªé™æ€å‡½æ•°ï¼Œæ‰€ä»¥å‡½æ•°ä½“å†…ä¸èƒ½è®¿é—® thisï¼Œè¾“å‡ºå®Œå…¨ç”±è¾“å…¥å†³å®šã€‚</p>
</li>
<li><p>getSnapshotBeforeUpdate</p>
</li>
</ul>
<p>è§¦å‘æ—¶é—´: update å‘ç”Ÿçš„æ—¶å€™ï¼Œåœ¨ render ä¹‹åï¼Œåœ¨ç»„ä»¶ dom æ¸²æŸ“ä¹‹å‰ã€‚<br>è¿”å›ä¸€ä¸ªå€¼ï¼Œä½œä¸º componentDidUpdate çš„ç¬¬ä¸‰ä¸ªå‚æ•°ã€‚<br>é…åˆ componentDidUpdate, å¯ä»¥è¦†ç›– componentWillUpdate çš„æ‰€æœ‰ç”¨æ³•</p>
<h4 id="setStateå¯ä»¥æ¥å—å‡½æ•°ä¸ºå‚æ•°å—ï¼Ÿæœ‰ä»€ä¹ˆä½œç”¨ï¼Ÿ"><a href="#setStateå¯ä»¥æ¥å—å‡½æ•°ä¸ºå‚æ•°å—ï¼Ÿæœ‰ä»€ä¹ˆä½œç”¨ï¼Ÿ" class="headerlink" title="setStateå¯ä»¥æ¥å—å‡½æ•°ä¸ºå‚æ•°å—ï¼Ÿæœ‰ä»€ä¹ˆä½œç”¨ï¼Ÿ"></a>setStateå¯ä»¥æ¥å—å‡½æ•°ä¸ºå‚æ•°å—ï¼Ÿæœ‰ä»€ä¹ˆä½œç”¨ï¼Ÿ</h4><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">this</span>.setState(<span class="function">(<span class="params">prevState, props</span>) =&gt;</span> (&#123;</span><br><span class="line">  counter: prevState.counter + props.increment</span><br><span class="line">&#125;));</span><br></pre></td></tr></table></figure>

<h4 id="å…³äºcomponentDidCatchçš„è§¦å‘æ—¶æœº"><a href="#å…³äºcomponentDidCatchçš„è§¦å‘æ—¶æœº" class="headerlink" title="å…³äºcomponentDidCatchçš„è§¦å‘æ—¶æœº"></a>å…³äº<code>componentDidCatch</code>çš„è§¦å‘æ—¶æœº</h4><p>componentDidCatch()<br>componentDidCatch(err, info)<br>ä»»ä½•å­ç»„ä»¶åœ¨æ¸²æŸ“æœŸé—´ï¼Œç”Ÿå‘½å‘¨æœŸæ–¹æ³•ä¸­æˆ–è€…æ„é€ å‡½æ•° constructor å‘ç”Ÿé”™è¯¯æ—¶è°ƒç”¨ã€‚</p>
<p>é”™è¯¯è¾¹ç•Œä¸ä¼šæ•è·ä¸‹é¢çš„é”™è¯¯ï¼š</p>
<ul>
<li>äº‹ä»¶å¤„ç† (Event handlers) ï¼ˆå› ä¸ºäº‹ä»¶å¤„ç†ä¸å‘ç”Ÿåœ¨ React æ¸²æŸ“æ—¶ï¼ŒæŠ¥é”™ä¸å½±å“æ¸²æŸ“ï¼‰</li>
<li>å¼‚æ­¥ä»£ç  (Asynchronous code) (e.g. setTimeout or requestAnimationFrame callbacks)</li>
<li>æœåŠ¡ç«¯æ¸²æŸ“ (Server side rendering)</li>
<li>é”™è¯¯è¾¹ç•Œæœ¬èº«(è€Œä¸æ˜¯å­ç»„ä»¶)æŠ›å‡ºçš„é”™è¯¯</li>
</ul>
<h4 id="è¡¥å……ï¼šstatic-getDerivedStateFromError"><a href="#è¡¥å……ï¼šstatic-getDerivedStateFromError" class="headerlink" title="è¡¥å……ï¼šstatic getDerivedStateFromError"></a>è¡¥å……ï¼š<code>static getDerivedStateFromError</code></h4><p>æ­¤ç”Ÿå‘½å‘¨æœŸä¼šåœ¨åä»£ç»„ä»¶æŠ›å‡ºé”™è¯¯åè¢«è°ƒç”¨ã€‚ å®ƒå°†æŠ›å‡ºçš„é”™è¯¯ä½œä¸ºå‚æ•°ï¼Œå¹¶è¿”å›ä¸€ä¸ªå€¼ä»¥æ›´æ–° state,å¯ä»¥åœ¨æ­¤ç”Ÿå‘½å‘¨æœŸä¸­ æ›´æ–° state ä½¿ä¸‹ä¸€æ¬¡æ¸²æŸ“å¯ä»¥æ˜¾é™çº§ UIã€‚<br>getDerivedStateFromError() ä¼šåœ¨æ¸²æŸ“é˜¶æ®µè°ƒç”¨ï¼Œå› æ­¤ä¸å…è®¸å‡ºç°å‰¯ä½œç”¨ã€‚ å¦‚é‡æ­¤ç±»æƒ…å†µï¼Œè¯·æ”¹ç”¨ componentDidCatch()</p>
<blockquote>
<p>note: UNSAFE_componentWillMount() åœ¨æŒ‚è½½ä¹‹å‰è¢«è°ƒç”¨ã€‚å®ƒåœ¨ render() ä¹‹å‰è°ƒç”¨ï¼Œå› æ­¤åœ¨æ­¤æ–¹æ³•ä¸­åŒæ­¥è°ƒç”¨ setState() ä¸ä¼šè§¦å‘é¢å¤–æ¸²æŸ“ã€‚é€šå¸¸ï¼Œæˆ‘ä»¬å»ºè®®ä½¿ç”¨ constructor() æ¥åˆå§‹åŒ– stateã€‚</p>
</blockquote>
<h4 id="react-router-çš„åŸç†"><a href="#react-router-çš„åŸç†" class="headerlink" title="react-router çš„åŸç†"></a><a href="https://www.cnblogs.com/chenjinxinlove/p/8467744.html" target="_blank" rel="noopener">react-router çš„åŸç†</a></h4><h4 id="react-routerçš„å®ç°åŸç†"><a href="#react-routerçš„å®ç°åŸç†" class="headerlink" title="react-routerçš„å®ç°åŸç†"></a><code>react-router</code>çš„å®ç°åŸç†</h4><ul>
<li><p>createBrowserHistory: åˆ©ç”¨ HTML5 é‡Œé¢çš„ history</p>
</li>
<li><p>createHashHistory: é€šè¿‡ hash æ¥å­˜å‚¨åœ¨ä¸åŒçŠ¶æ€ä¸‹çš„ history ä¿¡æ¯</p>
</li>
<li><p>createMemoryHistory: åœ¨å†…å­˜ä¸­è¿›è¡Œå†å²è®°å½•çš„å­˜å‚¨</p>
</li>
</ul>
<h4 id="linkç»„ä»¶è·Ÿaæ ‡ç­¾çš„åŒºåˆ«"><a href="#linkç»„ä»¶è·Ÿaæ ‡ç­¾çš„åŒºåˆ«" class="headerlink" title="linkç»„ä»¶è·Ÿaæ ‡ç­¾çš„åŒºåˆ«"></a>linkç»„ä»¶è·Ÿaæ ‡ç­¾çš„åŒºåˆ«</h4><p>æœ‰onclické‚£å°±æ‰§è¡Œonclick<br>clickçš„æ—¶å€™é˜»æ­¢aæ ‡ç­¾é»˜è®¤äº‹ä»¶ï¼ˆè¿™æ ·å­ç‚¹å‡»<a href="/abc">123</a>å°±ä¸ä¼šè·³è½¬å’Œåˆ·æ–°é¡µé¢ï¼‰<br>å†å–å¾—è·³è½¬hrefï¼ˆå³æ˜¯toï¼‰ï¼Œç”¨historyï¼ˆå‰ç«¯è·¯ç”±ä¸¤ç§æ–¹å¼ä¹‹ä¸€ï¼Œhistory &amp; hashï¼‰è·³è½¬ï¼Œæ­¤æ—¶åªæ˜¯é“¾æ¥å˜äº†ï¼Œå¹¶æ²¡æœ‰åˆ·æ–°é¡µé¢</p>
<h4 id="ä¼ªä»£ç å®ç°"><a href="#ä¼ªä»£ç å®ç°" class="headerlink" title="ä¼ªä»£ç å®ç°"></a>ä¼ªä»£ç å®ç°</h4><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// createBrowserHistory(HTML5)ä¸­çš„å‰è¿›å®ç°</span></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">finishTransition</span>(<span class="params">location</span>) </span>&#123;</span><br><span class="line">  ...</span><br><span class="line">  <span class="keyword">const</span> historyState = &#123; key &#125;;</span><br><span class="line">  ...</span><br><span class="line">  <span class="keyword">if</span> (location.action === <span class="string">'PUSH'</span>) ) &#123;</span><br><span class="line">    <span class="built_in">window</span>.history.pushState(historyState, <span class="literal">null</span>, path);</span><br><span class="line">  &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">    <span class="built_in">window</span>.history.replaceState(historyState, <span class="literal">null</span>, path)</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">// createHashHistoryçš„å†…éƒ¨å®ç°</span></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">finishTransition</span>(<span class="params">location</span>) </span>&#123;</span><br><span class="line">  ...</span><br><span class="line">  <span class="keyword">if</span> (location.action === <span class="string">'PUSH'</span>) ) &#123;</span><br><span class="line">    <span class="built_in">window</span>.location.hash = path;</span><br><span class="line">  &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">    <span class="built_in">window</span>.location.replace(</span><br><span class="line">    <span class="built_in">window</span>.location.pathname + <span class="built_in">window</span>.location.search + <span class="string">'#'</span> + path</span><br><span class="line">  );</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">// createMemoryHistoryçš„å†…éƒ¨å®ç°</span></span><br><span class="line">entries = [];</span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">finishTransition</span>(<span class="params">location</span>) </span>&#123;</span><br><span class="line">  ...</span><br><span class="line">  <span class="keyword">switch</span> (location.action) &#123;</span><br><span class="line">    <span class="keyword">case</span> <span class="string">'PUSH'</span>:</span><br><span class="line">      entries.push(location);</span><br><span class="line">      <span class="keyword">break</span>;</span><br><span class="line">    <span class="keyword">case</span> <span class="string">'REPLACE'</span>:</span><br><span class="line">      entries[current] = location;</span><br><span class="line">      <span class="keyword">break</span>;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h2 id="vue-ç›¸å…³"><a href="#vue-ç›¸å…³" class="headerlink" title="vue ç›¸å…³"></a>vue ç›¸å…³</h2><ul>
<li>ä¸ºä»€ä¹ˆç»„ä»¶çš„ data å¿…é¡»æ˜¯ä¸€ä¸ªå‡½æ•°<br>ä¸ºäº†è®©æ¯ä¸€ä¸ªå®ä¾‹ç»´æŠ¤ä¸€ä»½è¿”å›å¯¹è±¡çš„ç‹¬ç«‹çš„æ‹·è´ï¼Œè¿™æ ·å„ä¸ªç»„ä»¶çš„ data å˜åŒ–çš„æ—¶å€™äº’ä¸å½±å“</li>
</ul>
<h2 id="nodeç›¸å…³"><a href="#nodeç›¸å…³" class="headerlink" title="nodeç›¸å…³"></a>nodeç›¸å…³</h2><ul>
<li>nodeæ–‡ä»¶æŸ¥æ‰¾æœºåˆ¶<br>æ€»ä½“æµç¨‹<br><img src="https://img-blog.csdn.net/20140518175333390?watermark/2/text/aHR0cDovL2Jsb2cuY3Nkbi5uZXQvYWFha2luZ3dpbg==/font/5a6L5L2T/fontsize/400/fill/I0JBQkFCMA==/dissolve/70/gravity/SouthEast" alt="image"><br>å…¶ä½™çš„<br><img src="https://img-blog.csdn.net/20140518175420125?watermark/2/text/aHR0cDovL2Jsb2cuY3Nkbi5uZXQvYWFha2luZ3dpbg==/font/5a6L5L2T/fontsize/400/fill/I0JBQkFCMA==/dissolve/70/gravity/SouthEast" alt="image"></li>
</ul>
<h3 id="å‚è€ƒæ–‡ç« "><a href="#å‚è€ƒæ–‡ç« " class="headerlink" title="å‚è€ƒæ–‡ç« "></a>å‚è€ƒæ–‡ç« </h3><ul>
<li><a href="https://juejin.im/post/5b0b9b9051882515773ae714" target="_blank" rel="noopener">æµ…è°ˆ instanceof å’Œ typeof çš„å®ç°åŸç†</a></li>
<li><a href="https://zhuanlan.zhihu.com/p/32031325" target="_blank" rel="noopener">ä¸¤ä¸ªå¤§æ•°æ±‚å’Œ</a></li>
<li><a href="https://github.com/sisterAn/blog/issues/26" target="_blank" rel="noopener">æ·±å…¥ setstate æœºåˆ¶</a></li>
<li><a href="https://segmentfault.com/a/1190000020348448" target="_blank" rel="noopener">å¤§è¯ react ç”Ÿå‘½å‘¨æœŸ 2019ï¼šreact-v16.3 æ–°ç”Ÿå‘½å‘¨æœŸæ€»ç»“</a></li>
<li><a href="https://blog.csdn.net/tangzhl/article/details/79696055" target="_blank" rel="noopener">react-router çš„å®ç°åŸç†</a></li>
<li><a href="https://juejin.im/post/5af3cc4af265da0ba3521028" target="_blank" rel="noopener">ç¤¾æ‹›ä¸­çº§å‰ç«¯ç¬”è¯•é¢è¯•é¢˜æ€»ç»“</a></li>
<li><a href="https://www.quora.com/Why-is-Reacts-virtual-DOM-so-much-faster-than-the-real-DOM" target="_blank" rel="noopener">Why is Reactâ€™s virtual DOM so much faster than the real DOM?</a></li>
<li><a href="https://github.com/yygmind/blog/issues/43" target="_blank" rel="noopener">å‰ç«¯ 100 é—®ï¼šèƒ½ææ‡‚80%çš„è¯·æŠŠç®€å†ç»™æˆ‘</a></li>
</ul>

        </div>
        
          


  <section class='meta' id="footer-meta">
    <hr>
    <div class='new-meta-box'>
      
        
          <div class="new-meta-item date" itemprop="dateUpdated" datetime="2023-04-02T22:00:30+08:00">
  <a class='notlink'>
    <i class="fas fa-clock" aria-hidden="true"></i>
    <p>updated at Apr 2, 2023</p>
  </a>
</div>

        
      
        
          
  
  <div class="new-meta-item meta-tags"><a class="tag" href="/ashley271017.github.io/tags/js/" rel="nofollow"><i class="fas fa-hashtag" aria-hidden="true"></i>&nbsp;<p>js</p></a></div>


        
      
        
          
  <div class="new-meta-item share -mob-share-list">
  <div class="-mob-share-list share-body">
    
      
        <a class="-mob-share-qq" title="QQå¥½å‹" rel="external nofollow noopener noreferrer"
          
          href="http://connect.qq.com/widget/shareqq/index.html?url=https://ashleyblog.xyz/2019/12/10/é¢ç»jsç¯‡/&title=é¢ç»jsç¯‡ | Ashley's blog&summary="
          
          >
          
            <img src="https://cdn.jsdelivr.net/gh/xaoxuu/assets@19.1.9/logo/128/qq.png">
          
        </a>
      
    
      
        <a class="-mob-share-qzone" title="QQç©ºé—´" rel="external nofollow noopener noreferrer"
          
          href="https://sns.qzone.qq.com/cgi-bin/qzshare/cgi_qzshare_onekey?url=https://ashleyblog.xyz/2019/12/10/é¢ç»jsç¯‡/&title=é¢ç»jsç¯‡ | Ashley's blog&summary="
          
          >
          
            <img src="https://cdn.jsdelivr.net/gh/xaoxuu/assets@19.1.9/logo/128/qzone.png">
          
        </a>
      
    
      
        <a class="-mob-share-weibo" title="å¾®åš" rel="external nofollow noopener noreferrer"
          
          href="http://service.weibo.com/share/share.php?url=https://ashleyblog.xyz/2019/12/10/é¢ç»jsç¯‡/&title=é¢ç»jsç¯‡ | Ashley's blog&summary="
          
          >
          
            <img src="https://cdn.jsdelivr.net/gh/xaoxuu/assets@19.1.9/logo/128/weibo.png">
          
        </a>
      
    
  </div>
</div>



        
      
    </div>
  </section>


        
        
            <div class="prev-next">
                
                    <section class="prev">
                        <span class="art-item-left">
                            <h6><i class="fas fa-chevron-left" aria-hidden="true"></i>&nbsp;Previous</h6>
                            <h4>
                                <a href="/ashley271017.github.io/2019/12/11/é¢ç»é¡¹ç›®æ„å»ºç¯‡/" rel="prev" title="é¢ç»é¡¹ç›®æ„å»ºç¯‡">
                                  
                                      é¢ç»é¡¹ç›®æ„å»ºç¯‡
                                  
                                </a>
                            </h4>
                            
                                
                                <h6 class="tags">
                                    <a class="tag" href="/ashley271017.github.io/tags/é…ç½®/"><i class="fas fa-hashtag fa-fw" aria-hidden="true"></i>é…ç½®</a>
                                </h6>
                            
                        </span>
                    </section>
                
                
                    <section class="next">
                        <span class="art-item-right" aria-hidden="true">
                            <h6>Next&nbsp;<i class="fas fa-chevron-right" aria-hidden="true"></i></h6>
                            <h4>
                                <a href="/ashley271017.github.io/2019/12/10/2019å¹´åº¦æ€»ç»“/" rel="prev" title="2019å¹´åº¦æ€»ç»“">
                                    
                                        2019å¹´åº¦æ€»ç»“
                                    
                                </a>
                            </h4>
                            
                        </span>
                    </section>
                
            </div>
        
      </section>
    </article>
  

  
    <!-- æ˜¾ç¤ºæ¨èæ–‡ç« å’Œè¯„è®º -->



  <article class="post white-box comments">
    <section class="article typo">
      <h4><i class="fas fa-comments fa-fw" aria-hidden="true"></i>&nbsp;Comments</h4>
      
      
      
      
        <section id="comments">
          <div id="valine_container" class="valine_thread">
            <i class="fas fa-spinner fa-spin fa-fw"></i>
          </div>
        </section>
      
    </section>
  </article>


  




<!-- æ ¹æ®é¡µé¢mathjaxå˜é‡å†³å®šæ˜¯å¦åŠ è½½MathJaxæ•°å­¦å…¬å¼js -->



  <script>
    window.subData = {
      title: 'é¢ç»jsç¯‡',
      tools: true
    }
  </script>


</div>
<aside class='l_side'>
  
    
    
      
        
          
          
            <section class='widget author'>
  <div class='content pure'>
    
      <div class='avatar'>
        <img class='avatar' src='/ashley271017.github.io/images/avatar.jpeg'/>
      </div>
    
    
    
      <div class="social-wrapper">
        <!-- 
          
            <a href="https://github.com/earnest1997"
              class="social fab fa-github flat-btn"
              target="_blank"
              rel="external nofollow noopener noreferrer">
            </a>
          
         -->
        å¤±è½ï¼Œæ˜¯å› ä¸ºä½ æ€»åœ¨è·Ÿåˆ«äººæ¯”è¾ƒ
      </div>
    
  </div>
</section>

          
        
      
        
          
          
            
  <section class='widget toc-wrapper'>
    
<header class='pure'>
  <div><i class="fas fa-list fa-fw" aria-hidden="true"></i>&nbsp;&nbsp;TOC</div>
  
    <div class='wrapper'><a class="s-toc rightBtn" rel="external nofollow noopener noreferrer" href="javascript:void(0)"><i class="fas fa-thumbtack fa-fw"></i></a></div>
  
</header>

    <div class='content pure'>
      <ol class="toc"><li class="toc-item toc-level-2"><a class="toc-link" href="#åŸç”Ÿ-js"><span class="toc-text">åŸç”Ÿ js</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#typeofçš„åŸç†"><span class="toc-text">typeofçš„åŸç†</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#instanceofçš„åŸç†"><span class="toc-text">instanceofçš„åŸç†</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#ç”ŸæˆæŒ‡å®šèŒƒå›´å†…çš„éšæœºæ•°"><span class="toc-text">ç”ŸæˆæŒ‡å®šèŒƒå›´å†…çš„éšæœºæ•°</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#null-undefined-çš„åŒºåˆ«"><span class="toc-text">null undefined çš„åŒºåˆ«</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#å‡½æ•°å‚æ•°æ˜¯æŒ‰å€¼ä¼ é€’-ä¸ºä»€ä¹ˆä¼ ä¸€ä¸ªå¯¹è±¡è¿›å»-å‡½æ•°å†…éƒ¨çš„ä¿®æ”¹ä¼šå½±å“è¯¥å¯¹è±¡"><span class="toc-text">å‡½æ•°å‚æ•°æ˜¯æŒ‰å€¼ä¼ é€’ ä¸ºä»€ä¹ˆä¼ ä¸€ä¸ªå¯¹è±¡è¿›å» å‡½æ•°å†…éƒ¨çš„ä¿®æ”¹ä¼šå½±å“è¯¥å¯¹è±¡</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#ä½ è§‰å¾—jQueryæˆ–zeptoæºç æœ‰å“ªäº›å†™çš„å¥½çš„åœ°æ–¹"><span class="toc-text">ä½ è§‰å¾—jQueryæˆ–zeptoæºç æœ‰å“ªäº›å†™çš„å¥½çš„åœ°æ–¹</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#è™šæ‹Ÿdom"><span class="toc-text">è™šæ‹Ÿdom</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#å®ç°å‡½æ•°æŸ¯é‡ŒåŒ–"><span class="toc-text">å®ç°å‡½æ•°æŸ¯é‡ŒåŒ–</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#arguments-callee-ä¸arguments-callerçš„åŒºåˆ«"><span class="toc-text">arguments.callee ä¸arguments.callerçš„åŒºåˆ«</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#ç±»æ•°ç»„å¯¹è±¡æœ‰å“ªäº›"><span class="toc-text">ç±»æ•°ç»„å¯¹è±¡æœ‰å“ªäº›</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#å‡½æ•°æå‡è·Ÿå˜é‡æå‡"><span class="toc-text">å‡½æ•°æå‡è·Ÿå˜é‡æå‡</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#å®ç°æ·±æ‹·è´"><span class="toc-text">å®ç°æ·±æ‹·è´</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#å¾ªç¯é€’å½’å®ç°"><span class="toc-text">å¾ªç¯é€’å½’å®ç°</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#load-äº‹ä»¶ä¸-DOMContentLoaded-äº‹ä»¶-document-ready"><span class="toc-text">load äº‹ä»¶ä¸ DOMContentLoaded äº‹ä»¶,$(document).ready()</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#æ„é€ å‡½æ•°çš„è¿”å›å€¼"><span class="toc-text">æ„é€ å‡½æ•°çš„è¿”å›å€¼</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#å¤§æ•°æ±‚å’Œ"><span class="toc-text">å¤§æ•°æ±‚å’Œ</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#promiseçš„æ„é€ å‡½æ•°è·Ÿä»–çš„thenæ–¹æ³•æ˜¯å¼‚æ­¥è¿˜æ˜¯åŒæ­¥"><span class="toc-text">promiseçš„æ„é€ å‡½æ•°è·Ÿä»–çš„thenæ–¹æ³•æ˜¯å¼‚æ­¥è¿˜æ˜¯åŒæ­¥</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#æ¨¡å—åŒ–"><span class="toc-text">æ¨¡å—åŒ–</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#jsç±»å‹è½¬æ¢"><span class="toc-text">jsç±»å‹è½¬æ¢</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#å®ç°æ•°ç»„æ‰å¹³åŒ–"><span class="toc-text">å®ç°æ•°ç»„æ‰å¹³åŒ–</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#å®ç°-1-2-mutiple-1-2-1-4"><span class="toc-text">å®ç°[1,2].mutiple() = [1,2,1,4]</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#å®ç°composeå‡½æ•°"><span class="toc-text">å®ç°composeå‡½æ•°</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#var-a3-name-â€œå‰ç«¯å¼€å‘â€-var-b3-a3-a3-null-console-log-b3"><span class="toc-text">var a3 = {name: â€œå‰ç«¯å¼€å‘â€}; var b3 = a3; a3 = null console.log(b3)?</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#äº‹ä»¶å§”æ‰˜çš„ä¼˜ç¼ºç‚¹"><span class="toc-text">äº‹ä»¶å§”æ‰˜çš„ä¼˜ç¼ºç‚¹</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#0-1-0-2-0-3"><span class="toc-text">0.1+0.2!=0.3</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#æ€ä¹ˆè®¾ç½®å¯¹è±¡çš„å±æ€§ä¸èƒ½è¢«åˆ é™¤ï¼Ÿ"><span class="toc-text">æ€ä¹ˆè®¾ç½®å¯¹è±¡çš„å±æ€§ä¸èƒ½è¢«åˆ é™¤ï¼Ÿ</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#addeventListenerçš„ç¬¬ä¸‰ä¸ªå‚æ•°"><span class="toc-text">addeventListenerçš„ç¬¬ä¸‰ä¸ªå‚æ•°</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#å‡ ç§åˆ¤æ–­æ•°ç»„ç±»å‹çš„ä¼˜ç¼ºç‚¹"><span class="toc-text">å‡ ç§åˆ¤æ–­æ•°ç»„ç±»å‹çš„ä¼˜ç¼ºç‚¹</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#ä¸ºä»€ä¹ˆè¡¨å•èƒ½è·¨åŸŸ"><span class="toc-text">ä¸ºä»€ä¹ˆè¡¨å•èƒ½è·¨åŸŸ</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#ä¸ºä»€ä¹ˆç®­å¤´å‡½æ•°ä¸èƒ½ä½¿ç”¨newæ“ä½œç¬¦"><span class="toc-text">ä¸ºä»€ä¹ˆç®­å¤´å‡½æ•°ä¸èƒ½ä½¿ç”¨newæ“ä½œç¬¦</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#react-ç›¸å…³"><span class="toc-text">react ç›¸å…³</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#React-ä¸­-setState-ä»€ä¹ˆæ—¶å€™æ˜¯åŒæ­¥çš„ï¼Œä»€ä¹ˆæ—¶å€™æ˜¯å¼‚æ­¥çš„"><span class="toc-text">React ä¸­ setState ä»€ä¹ˆæ—¶å€™æ˜¯åŒæ­¥çš„ï¼Œä»€ä¹ˆæ—¶å€™æ˜¯å¼‚æ­¥çš„</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#jsx-è¯­æ³•ä¸ºä»€ä¹ˆ-éœ€è¦-import-react-åŒ…"><span class="toc-text">jsx è¯­æ³•ä¸ºä»€ä¹ˆ éœ€è¦ import react åŒ…</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#react-ç”Ÿå‘½å‘¨æœŸå˜æ›´çš„åŸå› "><span class="toc-text">react ç”Ÿå‘½å‘¨æœŸå˜æ›´çš„åŸå› </span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#reconciliation-é˜¶æ®µ"><span class="toc-text">reconciliation é˜¶æ®µ</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#commit-é˜¶æ®µ"><span class="toc-text">commit é˜¶æ®µ</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#ç”Ÿå‘½å‘¨æœŸ"><span class="toc-text">ç”Ÿå‘½å‘¨æœŸ</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#æ–°å¢çš„ä¸¤ä¸ª"><span class="toc-text">æ–°å¢çš„ä¸¤ä¸ª</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#setStateå¯ä»¥æ¥å—å‡½æ•°ä¸ºå‚æ•°å—ï¼Ÿæœ‰ä»€ä¹ˆä½œç”¨ï¼Ÿ"><span class="toc-text">setStateå¯ä»¥æ¥å—å‡½æ•°ä¸ºå‚æ•°å—ï¼Ÿæœ‰ä»€ä¹ˆä½œç”¨ï¼Ÿ</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#å…³äºcomponentDidCatchçš„è§¦å‘æ—¶æœº"><span class="toc-text">å…³äºcomponentDidCatchçš„è§¦å‘æ—¶æœº</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#è¡¥å……ï¼šstatic-getDerivedStateFromError"><span class="toc-text">è¡¥å……ï¼šstatic getDerivedStateFromError</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#react-router-çš„åŸç†"><span class="toc-text">react-router çš„åŸç†</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#react-routerçš„å®ç°åŸç†"><span class="toc-text">react-routerçš„å®ç°åŸç†</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#linkç»„ä»¶è·Ÿaæ ‡ç­¾çš„åŒºåˆ«"><span class="toc-text">linkç»„ä»¶è·Ÿaæ ‡ç­¾çš„åŒºåˆ«</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#ä¼ªä»£ç å®ç°"><span class="toc-text">ä¼ªä»£ç å®ç°</span></a></li></ol></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#vue-ç›¸å…³"><span class="toc-text">vue ç›¸å…³</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#nodeç›¸å…³"><span class="toc-text">nodeç›¸å…³</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#å‚è€ƒæ–‡ç« "><span class="toc-text">å‚è€ƒæ–‡ç« </span></a></li></ol></li></ol>
    </div>
  </section>


          
        
      
        
          
          
            <section class='widget grid'>
  
<header class='pure'>
  <div><i class="fas fa-map-signs fa-fw" aria-hidden="true"></i>&nbsp;&nbsp;ç«™å†…å¯¼èˆª</div>
  
</header>

  <div class='content pure'>
    <ul class="grid navgation">
      
        <li><a class="flat-box" title="/ashley271017.github.io/" href="/ashley271017.github.io/"
          
          
          id="ashley271017.github.io">
          
            <i class="fas fa-clock fa-fw" aria-hidden="true"></i>
          
          è¿‘æœŸæ–‡ç« 
        </a></li>
      
        <li><a class="flat-box" title="/ashley271017.github.io/friends/" href="/ashley271017.github.io/friends/"
          
            rel="nofollow"
          
          
          id="ashley271017.github.iofriends">
          
            <i class="fas fa-link fa-fw" aria-hidden="true"></i>
          
          æˆ‘çš„å‹é“¾
        </a></li>
      
    </ul>
  </div>
</section>

          
        
      
        
          
          
            
  <section class='widget category'>
    
<header class='pure'>
  <div><i class="fas fa-folder-open fa-fw" aria-hidden="true"></i>&nbsp;&nbsp;Categories</div>
  
    <a class="rightBtn"
    
      rel="nofollow"
    
    
    href="/ashley271017.github.io/blog/category/"
    title="blog/category/">
    <i class="fas fa-expand-arrows-alt fa-fw"></i></a>
  
</header>

    <div class='content pure'>
      <ul class="entry">
        
          <li><a class="flat-box" title="/ashley271017.github.io/categories/sass/" href="/ashley271017.github.io/categories/sass/"><div class='name'>sass</div><div class='badge'>(1)</div></a></li>
        
          <li><a class="flat-box" title="/ashley271017.github.io/categories/ts/" href="/ashley271017.github.io/categories/ts/"><div class='name'>ts</div><div class='badge'>(1)</div></a></li>
        
          <li><a class="flat-box" title="/ashley271017.github.io/categories/æ€§èƒ½ä¼˜åŒ–/" href="/ashley271017.github.io/categories/æ€§èƒ½ä¼˜åŒ–/"><div class='name'>æ€§èƒ½ä¼˜åŒ–</div><div class='badge'>(1)</div></a></li>
        
          <li><a class="flat-box" title="/ashley271017.github.io/categories/æˆé•¿/" href="/ashley271017.github.io/categories/æˆé•¿/"><div class='name'>æˆé•¿</div><div class='badge'>(1)</div></a></li>
        
          <li><a class="flat-box" title="/ashley271017.github.io/categories/é…ç½®/" href="/ashley271017.github.io/categories/é…ç½®/"><div class='name'>é…ç½®</div><div class='badge'>(1)</div></a></li>
        
          <li><a class="flat-box" title="/ashley271017.github.io/categories/é¢ç»/" href="/ashley271017.github.io/categories/é¢ç»/"><div class='name'>é¢ç»</div><div class='badge'>(4)</div></a></li>
        
          <li><a class="flat-box child" title="/ashley271017.github.io/categories/é¢ç»/css/" href="/ashley271017.github.io/categories/é¢ç»/css/"><div class='name'>css</div><div class='badge'>(1)</div></a></li>
        
          <li><a class="flat-box child" title="/ashley271017.github.io/categories/é¢ç»/js/" href="/ashley271017.github.io/categories/é¢ç»/js/"><div class='name'>js</div><div class='badge'>(1)</div></a></li>
        
          <li><a class="flat-box child" title="/ashley271017.github.io/categories/é¢ç»/æµè§ˆå™¨/" href="/ashley271017.github.io/categories/é¢ç»/æµè§ˆå™¨/"><div class='name'>æµè§ˆå™¨</div><div class='badge'>(1)</div></a></li>
        
          <li><a class="flat-box" title="/ashley271017.github.io/categories/é¢è¯•/" href="/ashley271017.github.io/categories/é¢è¯•/"><div class='name'>é¢è¯•</div><div class='badge'>(1)</div></a></li>
        
          <li><a class="flat-box child" title="/ashley271017.github.io/categories/é¢è¯•/js/" href="/ashley271017.github.io/categories/é¢è¯•/js/"><div class='name'>js</div><div class='badge'>(1)</div></a></li>
        
      </ul>
    </div>
  </section>


          
        
      
        
          
          
            
  <section class='widget tagcloud'>
    
<header class='pure'>
  <div><i class="fas fa-fire fa-fw" aria-hidden="true"></i>&nbsp;&nbsp;Hot Tags</div>
  
    <a class="rightBtn"
    
      rel="nofollow"
    
    
    href="/ashley271017.github.io/blog/tags/"
    title="blog/tags/">
    <i class="fas fa-expand-arrows-alt fa-fw"></i></a>
  
</header>

    <div class='content pure'>
      <a href="/ashley271017.github.io/tags/a2hs/" style="font-size: 14px; color: #999">a2hs</a> <a href="/ashley271017.github.io/tags/babel/" style="font-size: 14px; color: #999">babel</a> <a href="/ashley271017.github.io/tags/chromeExtension/" style="font-size: 14px; color: #999">chromeExtension</a> <a href="/ashley271017.github.io/tags/cicd/" style="font-size: 14px; color: #999">cicd</a> <a href="/ashley271017.github.io/tags/css/" style="font-size: 20.67px; color: #6c6c6c">css</a> <a href="/ashley271017.github.io/tags/debug/" style="font-size: 14px; color: #999">debug</a> <a href="/ashley271017.github.io/tags/js/" style="font-size: 14px; color: #999">js</a> <a href="/ashley271017.github.io/tags/react/" style="font-size: 20.67px; color: #6c6c6c">react</a> <a href="/ashley271017.github.io/tags/sass-css/" style="font-size: 14px; color: #999">sass css</a> <a href="/ashley271017.github.io/tags/ts/" style="font-size: 14px; color: #999">ts</a> <a href="/ashley271017.github.io/tags/vite/" style="font-size: 14px; color: #999">vite</a> <a href="/ashley271017.github.io/tags/vue/" style="font-size: 17.33px; color: #828282">vue</a> <a href="/ashley271017.github.io/tags/vue3/" style="font-size: 14px; color: #999">vue3</a> <a href="/ashley271017.github.io/tags/webpack/" style="font-size: 24px; color: #555">webpack</a> <a href="/ashley271017.github.io/tags/åŒ…ç®¡ç†/" style="font-size: 14px; color: #999">åŒ…ç®¡ç†</a> <a href="/ashley271017.github.io/tags/åŸºç¡€æŠ€èƒ½/" style="font-size: 14px; color: #999">åŸºç¡€æŠ€èƒ½</a> <a href="/ashley271017.github.io/tags/æ€§èƒ½ä¼˜åŒ–/" style="font-size: 14px; color: #999">æ€§èƒ½ä¼˜åŒ–</a> <a href="/ashley271017.github.io/tags/æ¶æ„/" style="font-size: 14px; color: #999">æ¶æ„</a> <a href="/ashley271017.github.io/tags/æ¨¡å—è”é‚¦/" style="font-size: 14px; color: #999">æ¨¡å—è”é‚¦</a> <a href="/ashley271017.github.io/tags/æµè§ˆå™¨å®‰å…¨/" style="font-size: 14px; color: #999">æµè§ˆå™¨å®‰å…¨</a> <a href="/ashley271017.github.io/tags/ç”Ÿæ´»/" style="font-size: 14px; color: #999">ç”Ÿæ´»</a> <a href="/ashley271017.github.io/tags/ç®—æ³•/" style="font-size: 14px; color: #999">ç®—æ³•</a> <a href="/ashley271017.github.io/tags/ç½‘ç»œ/" style="font-size: 14px; color: #999">ç½‘ç»œ</a> <a href="/ashley271017.github.io/tags/é…ç½®/" style="font-size: 14px; color: #999">é…ç½®</a> <a href="/ashley271017.github.io/tags/é¢ç»/" style="font-size: 14px; color: #999">é¢ç»</a>
    </div>
  </section>


          
        
      
        
          
          
            



          
        
      
    

  
</aside>

<footer id="footer" class="clearfix">
  
  
    <div class="social-wrapper">
      
        
          <a href="https://github.com/earnest1997"
            class="social fab fa-github flat-btn"
            target="_blank"
            rel="external nofollow noopener noreferrer">
          </a>
        
      
    </div>
  
  <br>
  <div><p>Ashley Â© 2018-2023 é„‚ICPå¤‡17030443å·</p>
</div>
  <div>
    è”ç³»æ–¹å¼ï¼šashley19971212@gmail.com
    <!-- 
      , 
      æ€»æµè§ˆé‡
      <span id="busuanzi_value_site_pv"><i class="fas fa-spinner fa-spin fa-fw" aria-hidden="true"></i></span>
      æ¬¡
     -->
    . 
  </div>
</footer>
<script>setLoadingBarProgress(80);</script>


      <script>setLoadingBarProgress(60);</script>
    </div>
    <a class="s-top fas fa-arrow-up fa-fw" href='javascript:void(0)'></a>
  </div>
  <script src="https://cdn.jsdelivr.net/npm/jquery@3.3.1/dist/jquery.min.js"></script>

  <script>
    var GOOGLE_CUSTOM_SEARCH_API_KEY = "";
    var GOOGLE_CUSTOM_SEARCH_ENGINE_ID = "";
    var ALGOLIA_API_KEY = "";
    var ALGOLIA_APP_ID = "";
    var ALGOLIA_INDEX_NAME = "";
    var AZURE_SERVICE_NAME = "";
    var AZURE_INDEX_NAME = "";
    var AZURE_QUERY_KEY = "";
    var BAIDU_API_ID = "";
    var SEARCH_SERVICE = "hexo" || "hexo";
    var ROOT = "/ashley271017.github.io/"||"/";
    if(!ROOT.endsWith('/'))ROOT += '/';
  </script>

<script src="//instant.page/1.2.2" type="module" integrity="sha384-2xV8M5griQmzyiY3CDqh1dn4z3llDVqZDqzjzcY+jCBCk/a5fXJmuZ/40JJAPeoU"></script>


  <script async src="https://cdn.jsdelivr.net/npm/scrollreveal@4.0.5/dist/scrollreveal.min.js"></script>
  <script type="text/javascript">
    $(function() {
      const $reveal = $('.reveal');
      if ($reveal.length === 0) return;
      const sr = ScrollReveal({ distance: 0 });
      sr.reveal('.reveal');
    });
  </script>


  <script src="https://cdn.jsdelivr.net/npm/node-waves@0.7.6/dist/waves.min.js"></script>
  <script type="text/javascript">
    $(function() {
      Waves.attach('.flat-btn', ['waves-button']);
      Waves.attach('.float-btn', ['waves-button', 'waves-float']);
      Waves.attach('.float-btn-light', ['waves-button', 'waves-float', 'waves-light']);
      Waves.attach('.flat-box', ['waves-block']);
      Waves.attach('.float-box', ['waves-block', 'waves-float']);
      Waves.attach('.waves-image');
      Waves.init();
    });
  </script>


  <script async src="https://cdn.jsdelivr.net/gh/xaoxuu/cdn-busuanzi@2.3/js/busuanzi.pure.mini.js"></script>




  
  
  
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery-backstretch/2.0.4/jquery.backstretch.min.js"></script>
    <script type="text/javascript">
      $(function(){
        if ('.cover') {
          $('.cover').backstretch(
          ["/ashley271017.github.io/images/bg.jpg"],
          {
            duration: "6000",
            fade: "2500"
          });
        } else {
          $.backstretch(
          ["/ashley271017.github.io/images/bg.jpg"],
          {
            duration: "6000",
            fade: "2500"
          });
        }
      });
    </script>
  









  <script src="//cdn1.lncld.net/static/js/3.0.4/av-min.js"></script>
  
    
      <script src="https://cdn.jsdelivr.net/gh/xaoxuu/volantis@1.0.5/js/volantis.min.js"></script>
    
  
  <script>
  var GUEST_INFO = ['nick','mail','link'];
  var guest_info = 'nick,mail,link'.split(',').filter(function(item){
    return GUEST_INFO.indexOf(item) > -1
  });
  var notify = 'true' == true;
  var verify = 'true' == true;
  var valine = new Valine();
  valine.init({
    el: '#valine_container',
    notify: notify,
    verify: verify,
    guest_info: guest_info,
    
    appId: "vu5VJ9hGtTUPkCsBP1ItVzg9-gzGzoHsz",
    appKey: "HfSu2jw0KjCyYYMydHTCArO2",
    placeholder: "ãƒ¾ï¾‰â‰§âˆ€â‰¦)oæ¥å•Šï¼Œå¿«æ´»å•Š!",
    pageSize:'10',
    avatar:'mp',
    lang:'zh-cn',
    highlight:'true'
  })
  </script>



  <script src="https://cdn.jsdelivr.net/gh/xaoxuu/cdn-material-x@19.8/js/app.js"></script>


  <script src="https://cdn.jsdelivr.net/gh/xaoxuu/cdn-material-x@19.8/js/search.js"></script>




<!-- å¤åˆ¶ -->
<script src="https://cdn.jsdelivr.net/npm/clipboard@2/dist/clipboard.min.js"></script>
<script>
  let COPY_SUCCESS = "Copied";
  let COPY_FAILURE = "Copy failed";
  /*é¡µé¢è½½å…¥å®Œæˆåï¼Œåˆ›å»ºå¤åˆ¶æŒ‰é’®*/
  !function (e, t, a) {
    /* code */
    var initCopyCode = function(){
      var copyHtml = '';
      copyHtml += '<button class="btn-copy" data-clipboard-snippet="">';
      copyHtml += '  <i class="fa fa-copy"></i><span>Copy</span>';
      copyHtml += '</button>';
      $(".highlight .code pre").before(copyHtml);
      var clipboard = new ClipboardJS('.btn-copy', {
        target: function(trigger) {
          return trigger.nextElementSibling;
        }
      });

      clipboard.on('success', function(e) {
        //æ‚¨å¯ä»¥åŠ å…¥æˆåŠŸæç¤º
        console.info('Action:', e.action);
        console.info('Text:', e.text);
        console.info('Trigger:', e.trigger);
        success_prompt(COPY_SUCCESS);
        e.clearSelection();
      });
      clipboard.on('error', function(e) {
        //æ‚¨å¯ä»¥åŠ å…¥å¤±è´¥æç¤º
        console.error('Action:', e.action);
        console.error('Trigger:', e.trigger);
        fail_prompt(COPY_FAILURE);
      });
    }
    initCopyCode();

  }(window, document);

  /**
   * å¼¹å‡ºå¼æç¤ºæ¡†ï¼Œé»˜è®¤1.5ç§’è‡ªåŠ¨æ¶ˆå¤±
   * @param message æç¤ºä¿¡æ¯
   * @param style æç¤ºæ ·å¼ï¼Œæœ‰alert-successã€alert-dangerã€alert-warningã€alert-info
   * @param time æ¶ˆå¤±æ—¶é—´
   */
  var prompt = function (message, style, time)
  {
      style = (style === undefined) ? 'alert-success' : style;
      time = (time === undefined) ? 1500 : time*1000;
      $('<div>')
          .appendTo('body')
          .addClass('alert ' + style)
          .html(message)
          .show()
          .delay(time)
          .fadeOut();
  };

  // æˆåŠŸæç¤º
  var success_prompt = function(message, time)
  {
      prompt(message, 'alert-success', time);
  };

  // å¤±è´¥æç¤º
  var fail_prompt = function(message, time)
  {
      prompt(message, 'alert-danger', time);
  };

  // æé†’
  var warning_prompt = function(message, time)
  {
      prompt(message, 'alert-warning', time);
  };

  // ä¿¡æ¯æç¤º
  var info_prompt = function(message, time)
  {
      prompt(message, 'alert-info', time);
  };

</script>


<!-- fancybox -->
<script src="https://cdn.jsdelivr.net/gh/fancyapps/fancybox@3.5.7/dist/jquery.fancybox.min.js"></script>
<script>
  let LAZY_LOAD_IMAGE = "";
  $(".article-entry").find("fancybox").find("img").each(function () {
      var element = document.createElement("a");
      $(element).attr("data-fancybox", "gallery");
      $(element).attr("href", $(this).attr("src"));
      /* å›¾ç‰‡é‡‡ç”¨æ‡’åŠ è½½å¤„ç†æ—¶,
       * ä¸€èˆ¬å›¾ç‰‡æ ‡ç­¾å†…ä¼šæœ‰ä¸ªå±æ€§åæ¥å­˜æ”¾å›¾ç‰‡çš„çœŸå®åœ°å€ï¼Œæ¯”å¦‚ data-original,
       * é‚£ä¹ˆæ­¤å¤„å°†åŸæœ¬çš„å±æ€§åsrcæ›¿æ¢ä¸ºå¯¹åº”å±æ€§ådata-original,
       * ä¿®æ”¹å¦‚ä¸‹
       */
       if (LAZY_LOAD_IMAGE) {
         $(element).attr("href", $(this).attr("data-original"));
       }
      $(this).wrap(element);
  });
</script>





  <script>setLoadingBarProgress(100);</script>
<script>if ('serviceWorker' in navigator) {
  navigator.serviceWorker.register('/sw.js?t=1681636540798')
    .then(function () {console.log('ServiceWorker Register Successfully.')})
    .catch(function (e) {console.error(e)});
}
</script></body>
</html>
